(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{130:function(e,t,n){},131:function(e,t,n){},133:function(e,t,n){},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return E}));n(469);var r,i=n(0),o=n.n(i),a=n(1),s=n.n(a);function u(e){var t=e.dom_el,n=e.max_width,r=e.max_height;s()(t&&_(n)&&_(r),{max_width:n,max_height:r,dom_el:t});var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;s()(n>=0&&t>=0,{outer_height:n,outer_width:t});var r=100,i=e.innerHTML;i.length<1&&(i="y");var o=c(e.tagName);o.innerHTML=i,s()(o.textContent.length>0,{dummyContent:i}),o.style.fontFamily=l(e,"font-family"),o.style.fontSize=r+"px",o.style.whiteSpace="nowrap",o.style.letterSpacing=l(e,"letter-spacing"),o.style.lineHeight=l(e,"line-height");var a,u,d,h=p(o,"height"),f=p(o,"width");if(s()(_(f)&&_(h),{dummy_width:f,dummy_height:h,dummyContent:i}),0===h||0===f)a=0,u=0,d=0;else{var v=t/f,m=n/h,y=Math.min(v,m);a=y*r,u=y*f,d=y*h}return s()(_(a)&&_(d)&&_(u),{fontSize:a,width:u,height:d,dummy_width:f,dummy_height:h,outer_width:t,outer_height:n}),{fontSize:a,width:u,height:d}}(t,n,r),o=i.fontSize,a=i.height,u=i.width,d={dom_el:t.id,height:a,width:u,max_height:r,max_width:n,fontSize:o};return s()(_(o)&&_(a)&&_(u)&&a<=1.02*r&&u<=1.02*n,d),{fontSize:o,height:a,width:u,max_height:r,max_width:n}}function c(e){if(!r){(r=document.createElement(e)).id="font-size-dummy",r.style.display="inline-block",r.style.pointerEvents="none",r.style.position="absolute",r.style.top="0",r.style.left="0";var t=document.createElement("div");t.style.overflow="hidden",t.style.position="absolute",t.style.top="0",t.style.left="0",r.style.opacity="0",t.appendChild(r),document.body.appendChild(t)}return s()(r.tagName===e),r}function l(e,t){return document.defaultView.getComputedStyle(e).getPropertyValue(t)}function _(e){return s()(!0,"unexpected"),null!==e&&(0===e||e&&e.constructor===Number&&e>0)}function p(e,t){s()(e,"[get_size][error]",{styleProp:t,el:e});var n=e.id,r=l(e,t);if(!r)return 0;var i=parseInt(r,10);return i?(s()(_(i),"[get_size][error]",{el_id:n,styleProp:t,val:r,val__casted:i}),i):0}var d=n(32),h=(n(470),n(29)),f=null;function v(e){var t,n=e.containerEl,r=e.scaleEl,i=e.zoomEl,o=e.toggleEl;return s()(n&&r&&i),o=o||i,r.classList.add("zooming__scaler"),n.classList.add("zooming__overflow-container"),i.classList.add("zooming__zoomable-element"),r.addEventListener("transitionstart",(function(e){"transform"===e.propertyName&&u()}),{passive:!0}),r.addEventListener("transitionend",(function(e){"transform"===e.propertyName&&(n.classList.remove("zoom-transition"),m!==f&&(m=f,f&&y.forEach((function(e){e()}))))}),{passive:!0}),o.addEventListener("click",(function(e){u(),f=!f,Object(d.d)({name:f?"zoom_in":"zoom_out"}),f&&Object(h.d)();a()}),{passive:!0}),window.addEventListener("resize",(function(){t=t||{x:null,y:null};var e={x:window.innerWidth,y:window.innerHeight};if(t.x===e.x&&t.y===e.y)return;t=e,a()}),{passive:!0}),s()(null===f,"multiple zoomable elements are not supported."),void(f=!1);function a(){!0===f?function(e){var t=e.zoomEl,n=e.scaleEl,r=(e.containerEl,function(e){var t=g(e,"height"),n=g(e,"width");"border-box"!==b(e,"box-sizing")&&(t+=r(["top","bottom"]),n+=r(["left","right"]));return{height:t,width:n};function r(t){return t.map((function(t){return g(e,"padding-"+t)+g(e,"border-"+t)})).reduce((function(e,t){return e+t}))}}(t)),i=r.height,o=r.width;var a=w(n),s=w(t),u={x:s.x-a.x,y:s.y-a.y},c=u;var l=window.innerWidth,_=window.innerHeight,p=Math.min(_/i,l/o);var d=[l/2,_/2],h=[o/2+c.x,i/2+c.y],f=[d[0]-h[0],d[1]-h[1]];n.style.setProperty("--scale",p),n.style.setProperty("--zoom-center-x",h[0]+"px"),n.style.setProperty("--zoom-center-y",h[1]+"px"),n.style.setProperty("--translate-x",f[0]+"px"),n.style.setProperty("--translate-y",f[1]+"px"),document.documentElement.classList.add("zoomed-state")}({zoomEl:i,scaleEl:r,containerEl:n}):function(e){e.scaleEl,e.containerEl;document.documentElement.classList.remove("zoomed-state")}({scaleEl:r,containerEl:n})}function u(){n.classList.add("zoom-transition")}}var m,y=[];function g(e,t){var n=b(e,t);return parseInt(n,10)||0}function b(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function w(e){var t=0,n=0,r=e;do{t+=r.offsetLeft,n+=r.offsetTop}while(r=r.offsetParent);return{x:t,y:n}}var k,O=n(61);t.a=function(e){var t=e.content_on_top,n=e.top_line_content,r=e.id;return o.a.createElement("div",{id:"bt-zoom-container",style:{width:"100vw"}},o.a.createElement("div",{id:"bt-layout-container",className:"bt-position-center"},o.a.createElement("div",{id:"bt-layout-top"},o.a.createElement("div",{id:"bt-layout-top-content"},t)),o.a.createElement("div",{id:r,className:"bt-layout-middle"},o.a.createElement("table",{id:"bt-middle-table"},o.a.createElement("tr",null,o.a.createElement("td",{id:"bt-top-line"},n)),o.a.createElement("tr",null,o.a.createElement("td",{id:"bt-bot-line"})))),o.a.createElement("div",{id:"bt-layout-bottom"})))};function E(e){s()(["top-left","top","top-right","center-left","center","center-right","bottom-left","bottom","bottom-right"].includes(e),{position:e});var t=document.querySelector("#bt-layout-container");["top","center","bottom","right","left"].forEach((function(n){t.classList[e.includes(n)?"add":"remove"]("bt-position-"+n)}))}function x(){var e,t,n;window.addEventListener("resize",P,{passive:!0}),e=document.querySelector("#bt-zoom-container"),t=document.querySelector("#bt-layout-container"),n=document.querySelector("#bt-middle-table"),s()(e&&t&&n),v({containerEl:e,scaleEl:t,zoomEl:n})}function j(e){var t=document.getElementById("bt-bot-line");s()(t),t.innerHTML=e}function S(e){k=e}function P(){var e=document.getElementById("bt-bot-line"),t=document.getElementById("bt-top-line");s()(e&&t);var n=function(){var e=window.innerWidth,t=window.innerHeight;s()(_(e)&&_(t),"unexpected window sizes",{max_width:e,max_height:t});var n=document.getElementById("bt-middle-table"),r={width:p(n,"padding-left")+p(n,"padding-right"),height:p(n,"padding-top")+p(n,"padding-bottom")};if(e-=r.width,t-=r.height,!Object(O.c)()){var i=p(document.getElementById("bt-layout-top-content"),"height");t-=i}var o=parseInt(k(),10)||1/0;return s()(_(o),{width_limit:o}),e=Math.min(e,o),t=Math.min(t,1.6*e),t=Math.max(t,0),e=Math.max(e,0),s()(_(e)&&_(t),{max_height:t,max_width:e}),{max_width:e,max_height:t}}(),r=n.max_height,i=n.max_width,o=function(e){var t,n,r=e.bot_el,i=e.top_el,o=e.max_height,a=e.max_width;if(t=u({dom_el:i,max_width:a,max_height:o}),""!=r.innerHTML){if(n=u({dom_el:r,max_width:.95*t.width,max_height:o}),t.height+n.height>o){t=u({dom_el:i,max_width:a,max_height:o*(1-1/3)}),n=u({dom_el:r,max_width:.95*t.width,max_height:o*(1/3)}),t=u({dom_el:i,max_width:a,max_height:o-n.height})}}return{bot_line_sizes:n,top_line_sizes:t}}({max_height:r,max_width:i,top_el:t,bot_el:e}),a=o.bot_line_sizes,c=o.top_line_sizes;s()(_(c.fontSize)&&(!a||_(a.fontSize)),{top_line_sizes:c,bot_line_sizes:a}),a&&(e.style.fontSize=a.fontSize+"px"),t.style.fontSize=c.fontSize+"px"}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return k}));var r=n(0),i=n.n(r),o=n(5),a=n(6),s=(n(130),n(1)),u=n.n(s),c=n(29),l=n(7),_=n(46);function p(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}var h=function(e,t){e((function(){Object(c.b)(),function(){var e=document.querySelector("#manual-scroll"),t=document.querySelector("#manual-fullscreen"),n=document.querySelector(".pretty_scroll_area__hide_scroll_element");e.onclick=i,t.onclick=function(){return a.apply(this,arguments)};var r=function(e){var t,n,r=e.do_scroll,i=document.querySelector("#auto-scroll");return Object(c.a)((function(e){document.fullscreenElement&&document.exitFullscreen(),0===e?o():a()}),{onlyUserScroll:!0,fireInitialScroll:!1}),o(),a;function o(){s(),n||(t=9,_(),u.a.internal(n))}function a(){l(),n&&(window.clearTimeout(n),n=null)}function s(){i.removeAttribute("data-disable-auto-scroll")}function l(){i.setAttribute("data-disable-auto-scroll","true")}function _(){u.a.internal(0<t&&t<=9),--t?s():l(),i.textContent="Auto-center "+t+"s",0===t?(r(),a(),u.a.internal(null===n)):n=window.setTimeout(_,1e3)}}({do_scroll:i});return;function i(){return o.apply(this,arguments)}function o(){return(o=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.next=3,Object(c.c)(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,document.documentElement.requestFullscreen(),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),Object(_.a)("Your browser doesn't support fullscreen.",{is_error:!0,short_duration:!0}),e.abrupt("return");case 8:requestAnimationFrame(d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}}(),Object(l.a)()}),t)};var f=n(2);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){var t=e.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,null),i.a.createElement("div",g({className:"pretty_scroll_area__hide_scroll_element load-area"},e),t,i.a.createElement("div",{id:"screen-buttons-wrapper"},i.a.createElement("div",{className:"screen-button glass-background",id:"manual-fullscreen"},"Fullscreen"),i.a.createElement("div",{className:"screen-button glass-background",id:"manual-scroll"},"Center"),i.a.createElement("div",{className:"screen-button glass-background",id:"auto-scroll"}," "))))}function w(e){var t=e.children;return i.a.createElement("div",{id:"more_panel"},i.a.createElement("div",{id:"more_panel_background",className:"glass-background"}),t,i.a.createElement(a.a,null))}function k(e){var t=e.onPageLoad,n=y(e,["onPageLoad"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({renderToDom:!0,renderToHtml:!0,favicon:f.d},n,{on_page_load:function(e){return h(t,e)}})}},29:function(e,t,n){"use strict";n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return h}));n(131);var r=n(1),i=n.n(r);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}t.b=_;var s,u={is_on_hide_scroll_element:null,enable_scroll_auto_hide:null,scrollbar_width_computed:null};function c(){var e=u.is_on_hide_scroll_element&&u.enable_scroll_auto_hide&&u.scrollbar_width_computed;s.classList[e?"add":"remove"]("hide_scroll")}var l=!1;function _(){if(!l){l=!0;var e=document.querySelectorAll(".pretty_scroll_area"),t=document.querySelectorAll(".pretty_scroll_area__parent"),n=document.querySelectorAll(".pretty_scroll_area__hide_scroll_element");i.a.usage(1===e.length&&1===t.length&&1===n.length),s=e[0];var r,o=n[0];r=function(){var e,t=document.createElement("div");(e=t).style.position="absolute",e.style.visibility="hidden",e.style.zIndex="-9999",t.style.overflow="scroll";var n=document.body;n.appendChild(t);var r=document.createElement("div");t.appendChild(r);var i=t.offsetWidth-r.offsetWidth;return n.removeChild(t),i}(),document.documentElement.style.setProperty("--scroll-bar-width",r+"px"),u.scrollbar_width_computed=!0,c(),h((function(e){var t=E(o);u.is_on_hide_scroll_element=e===t,c()}),{fireInitialScroll:!0}),setTimeout((function(){u.enable_scroll_auto_hide=!0,c()}),2e3)}}var p,d=[];function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onlyUserScroll,r=void 0!==n&&n,i=t.fireInitialScroll,o=void 0!==i&&i;if(e.onlyUserScroll=r,d.push(e),v(),o){var a=m();e(a)}}var f=!1;function v(){f||(_(),f=!0,(s===document.documentElement?window:s).addEventListener("scroll",(function(){var e=m();d.forEach((function(t){t.onlyUserScroll&&p||t(e)}))}),{passive:!0}))}function m(){return s.scrollTop}function y(e){return g.apply(this,arguments)}function g(){return(g=a(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},r=n.smooth,void 0!==r&&r){e.next=5;break}return e.abrupt("return",b(t));case 5:return e.abrupt("return",w(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){s.scrollTop=e}function w(e){return k.apply(this,arguments)}function k(){return(k=a(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){return e*e*(3-2*e)},30,20,r=new Promise((function(e){return n=e})),i=m(),o=t-i,p=!0,a=0,s=setInterval((function(){b(i+o*u(a++/30)),a>30&&(clearInterval(s),window.requestAnimationFrame((function(){p=!1})),n())}),20),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.smooth,r=void 0===n||n,i=E(e);return y(i,{smooth:r})}function E(e){return(e.constructor===String?document.querySelector(e):e).getBoundingClientRect().top+m()}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.smooth,n=void 0===t||t,r=document.querySelectorAll(".pretty_scroll_area__hide_scroll_element");i.a.usage(1===r.length);var o=r[0];O(o,{smooth:n})}},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n.n(r),o=n(77),a=n.n(o);n(132),n(133);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.is_error,r=void 0!==n&&n,o=t.short_duration,s=void 0!==o&&o;i()(e);var u=r?"linear-gradient(to right, #e83131, #dd4c4c)":"linear-gradient(to right, rgb(0, 176, 84), rgb(61, 201, 64))",c=s?4:8;a()({duration:1e3*c,text:e,position:"left",backgroundColor:u}).showToast()}},469:function(e,t,n){},470:function(e,t,n){},471:function(e,t,n){},473:function(e,t,n){},60:function(e,t,n){"use strict";function r(e){var t=e.seconds,n=e.milliseconds;return n=n||1e3*t,new Promise((function(e){return window.setTimeout(e,n)}))}n.d(t,"a",(function(){return r}))},61:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return h}));n(471);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=function(e,t){var n=document.createElement("script");n.src=e,n.async=!0,t&&(n.onload=t);return document.getElementsByTagName("head")[0].appendChild(n),n};var u=n(69),c=n(13);function l(e){var t=e.ad_slots;return i.a.createElement(p,{ad_slots:t,slot_name:"ATF"})}function _(e){var t=e.ad_slots;return i.a.createElement(p,{ad_slots:t,slot_name:"BTF"})}function p(e){e.id;var t=e.ad_slots,n=e.slot_name;a()(["ATF","BTF"].includes(n));var r=t.filter((function(e){return e.slot_name===n}));a()(2===t.length),a()(1===r.length);var o=r[0].slot_id;return a()(o),i.a.createElement("div",{className:"ad-view"},i.a.createElement("ins",{className:"adsbygoogle","data-ad-client":"ca-pub-6953474219479917","data-full-width-responsive":"true","data-ad-slot":o}),i.a.createElement("a",{className:"ad_remover",href:"donate",target:"_blank"},"Remove ad"))}function d(e){h()||function(e){s("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js");window.adsbygoogle=window.adsbygoogle||[],e.forEach((function(){window.adsbygoogle.push({})}))}(e)}function h(){var e=c.c.has_val("ad_removal");return"#thanks-for-your-donation"===window.location.hash?(e||c.c.set_val("ad_removal",!0),Object(u.a)(),!0):!!e||(document.documentElement.classList.add("show_ad"),!1)}},69:function(e,t,n){"use strict";t.a=function(){window.history.pushState("",document.title,window.location.pathname+window.location.search)}},78:function(e,t,n){"use strict";var r=n(69);function i(){return"#"===window.location.hash||!!window.location.href.endsWith("#")}n.d(t,"b",(function(){return r.a})),t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.IGNORE_LIST,n=e.INCLUDE_LIST;function o(){var e=window.location.hash;i()?Object(r.a)():(t||n)&&(t&&t.includes(e)||n&&!n.includes(e)||Object(r.a)())}o(),[100,300,600,900].forEach((function(e){return setTimeout(o,e)})),window.addEventListener("hashchange",o,{passive:!0,capture:!1})}},97:function(e,t,n){"use strict";var r=n(0),i=n.n(r);function o(e){var t=e.children;return i.a.createElement("div",{style:{marginTop:11,marginBottom:-11}},t)}t.a=function(e){e.preset_concept_name;return i.a.createElement("div",{className:"more_panel_block"},i.a.createElement("div",{className:"more_panel_block_title"},"News"),i.a.createElement(o,null,"April, 21th"),i.a.createElement("ul",null,i.a.createElement("li",null,"Bigger clock size for smaller browser window sizes.")),i.a.createElement(o,null,"April, 11th"),i.a.createElement("ul",null,i.a.createElement("li",null,"New clock layout algorithm for a more robust layout."),i.a.createElement("li",null,"Lower CPU and RAM memory footprint.")),i.a.createElement(o,null,"March, 31th"),i.a.createElement("ul",null,i.a.createElement("li",null,"Countdown — check out the brand new Countdown Tab."),i.a.createElement("li",null,"Themes super-powered — you can now create, save, and share Themes."),i.a.createElement("li",null,"World Clock — to create multiple Clocks and convert timezones."),i.a.createElement("li",null,"Msg Tab — Communication-over-Screen, useful in education.")),"If you encounter any issue with these new features then"," ",i.a.createElement("a",{href:"/repair"},"let me know"),".")}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n.n(r);function o(e){var t=e.preset_concept_name;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"more_panel_block"},i.a.createElement("div",{className:"more_panel_block_title"},t),i.a.createElement("div",{id:"creator-content"})),i.a.createElement("div",{id:"save-container",className:"more_panel_block"},i.a.createElement("div",{className:"more_panel_block_title"},"Save"),i.a.createElement("div",{id:"save-content"})),i.a.createElement("div",{id:"options-container",className:"more_panel_block"},i.a.createElement("div",{className:"more_panel_block_title"},"Options"),i.a.createElement("div",{id:"options-content"})),i.a.createElement("div",{id:"share-container",className:"more_panel_block"},i.a.createElement("div",{className:"more_panel_block_title"},"Share"),i.a.createElement("div",{id:"share-preamble"},"You can create and share ",t,"s; customize an existing"," ",t,", save it under a new name, then use its share link."),i.a.createElement("div",{id:"share-content"},"Share Link: ")))}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return je}));var r=n(1),i=n.n(r);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}var s,u=function(e){return c.apply(this,arguments)};function c(){return(c=a(regeneratorRuntime.mark((function e(t){var r,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){i()(t,{font_name:t}),r.load({google:{families:[t]},fontactive:o,fontinactive:function(){s++;var e=Math.pow(2,s),t=Math.max(e,60);setTimeout(u,1e3*t)}})},i()(t,{font_name:t}),r=n(472),a=new Promise((function(e){return o=e})),s=0,u(),e.next=8,a;case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l,_=function(){if(l)return l;var e;return l=new Promise((function(t){return e=t})),window.onfontsload=function(t){if(t.error)return console.error(t.error.message),void e([]);var n=t.items.map((function(e){return e.family})).sort();e(n)},function(e,t){s=s||document.getElementsByTagName("head")[0];var n=0;!function r(){var i=document.createElement("script");i.src=e,i.onerror=function(){s.removeChild(i),setTimeout(r,Math.min(1e3*Math.pow(2,n),6e4))},t&&(i.onload=t),n++,s.appendChild(i)}()}("https://www.googleapis.com/webfonts/v1/webfonts?callback=onfontsload&sort=popularity&key=AIzaSyAOMrdvfJJPa1btlQNCkXT9gcA-lCADPeE"),l};var p=function(e){if(++v,function(){if(f)return;(f=document.body).style.backgroundRepeat="no-repeat",f.style.backgroundPosition="center",f.style.backgroundAttachment="fixed",f.style["min-height"]="100%",f.style["min-width"]="100%"}(),!e)return void h();if(function(e){var t=v,n=-1!==e.indexOf(".")||/^data:image/.test(e);if(!n)return!1;var r,i=document.createElement("img");return i.onload=function(){r=!0;var n=this.width,i=this.height;if(n*i>8e6)return alert("The provided image has a size of "+n+"*"+i+" pixels. Large images are likely to slow down your machine. Thus only images of up to 8 000 000 pixels are allowed. (For example, any image bellow 5000*1600 is fine.)"),void(t===v&&h());t===v&&h({img:'url("'+e+'")'})},i.onerror=function(n){alert("Image "+e+" could not be loaded. Do you have an internet connection? Is the image online? Does the URL point to an image? (Note that the URL should point to the image itself and not to a page containing the image.)"),t===v&&h()},window.setTimeout((function(){r||t===v&&h({img:d})}),50),i.src=e,!0}(e))return;if(function(e){if(-1===e.indexOf("gradient"))return!1;return h({img:e}),!0}(e))return;!function(e){h({color:e})}(e)},d="url(https://i.imgur.com/zqG5F.gif)";function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=void 0===t?"white":t,r=e.img,i=void 0===r?"none":r;f.style.backgroundColor=n,f.style.backgroundImage=i,f.style.backgroundSize=i===d?"auto":"cover"}var f,v=0;n(473);var m=n(32),y=n(78),g=n(185),b=n.n(g),w=(n(474),n(13));function k(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function I(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var N=0;function R(e){return"__private_"+N+++"_"+e}var D=function(){function e(t){A(this,e),this._props=void 0,this._input_id=void 0,Object.defineProperty(this,B,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,q,{writable:!0,value:void 0}),this.input_tag=void 0,this.input_type=void 0,this._dom_el=void 0,this._input_el=void 0,this._props=t;var n=t.input_id,r=t.on_input_change,o=t.input_default;i()(n&&r),this._input_id=n,I(this,B)[B]=r,I(this,M)[M]=o,I(this,q)[q]=n}return C(e,[{key:"input_get",value:function(){return this._input_retriever()}},{key:"has_stored_value",value:function(){return w.c.has_val(I(this,q)[q])}},{key:"get_stored_value",value:function(){return w.c.get_val(I(this,q)[q])}},{key:"set_stored_value",value:function(e){w.c.set_val(I(this,q)[q],e)}},{key:"input_set",value:function(e){this.set_stored_value(e),this._input_modifier(e),I(this,B)[B]()}},{key:"init",value:function(){var e=this,t=this.input_tag,n=this.input_type;i()(t),i()(n||"input"!==t);var r=function(e){var t=e.input_tag,n=e.input_type,r=e.input_id,o=e.input_description,a=e.input_width,s=e.input_container;i()(t),i()(n||"input"!==t),i()(r),i()(o),i()(s,{input_id:r});var u=document.createElement("label");i()(["select","input"].includes(t));var c=document.createElement(t);c.id=r,n&&c.setAttribute("type",n);var l=document.createElement("span");l.textContent=o,"checkbox"===n?(u.appendChild(c),u.appendChild(l)):(u.appendChild(l),u.appendChild(c));a&&(c.style.width=a);return s.appendChild(u),{dom_el:u,input_el:c}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({input_tag:t,input_type:n},this._props)),o=r.dom_el,a=r.input_el;this._dom_el=o,this._input_el=a,this._init_dom&&this._init_dom();var s=this.has_stored_value()?this.get_stored_value():I(this,M)[M];void 0!==s&&this._input_modifier(s),this._input_el.addEventListener(this._change_event,(function(){var t=e._input_retriever();e.set_stored_value(t),I(e,B)[B]()}),!1)}},{key:"hide",value:function(){V(this._dom_el,!0)}},{key:"show",value:function(){V(this._dom_el)}},{key:"_input_retriever",value:function(){return this._input_el.value}},{key:"_input_modifier",value:function(e){this._input_el.value=e}},{key:"_change_event",get:function(){return"change"}}]),e}(),B=R("on_input_change"),M=R("input_default"),q=R("storage_key"),F=function(e){function t(e){var n;return A(this,t),(n=E(this,j(t).call(this,e))).input_tag=void 0,n.input_type=void 0,n.input_tag="input",n.input_type="checkbox",n}return S(t,e),C(t,[{key:"_input_retriever",value:function(){return!!this._input_el.checked}},{key:"_input_modifier",value:function(e){e?this._input_el.setAttribute("checked","true"):this._input_el.removeAttribute("checked")}},{key:"init",value:function(){x(j(t.prototype),"init",this).call(this),this._dom_el.classList.add("pointer-cursor")}}]),t}(D),W=function(e){function t(e){var n;return A(this,t),(n=E(this,j(t).call(this,e))).input_tag=void 0,n.input_type=void 0,n.input_tag="input",n.input_type="text",n}return S(t,e),C(t,[{key:"init",value:function(){x(j(t.prototype),"init",this).call(this);var e=this._props.input_placeholder;e&&(this._input_el.placeholder=e)}},{key:"_change_event",get:function(){return"input"}}]),t}(D),H=function(e){function t(e){var n,r=e.input_options,i=k(e,["input_options"]);return A(this,t),(n=E(this,j(t).call(this,i))).input_tag=void 0,n.input_options=void 0,n.input_tag="select",n.input_options=r,n}return S(t,e),C(t,[{key:"refresh",value:function(){this._init_dom()}}],[{key:"get_divider",value:function(e){return{divider_html:"<option disabled>"+(e?"─── "+e+" ───":"───────────────")+"</option>"}}}]),C(t,[{key:"_init_dom",value:function(){var e=this;i()(this.input_options.length>0,this._input_id);var t="";this.input_options.forEach((function(n){t+=e._generate_option_html(n)})),this._input_el.innerHTML=t}},{key:"add_options",value:function(e){var t=this,n=this._input_retriever(),r=Array.from(this._input_el.querySelector("option")).map((function(e){return e.value})),i=this._input_el.innerHTML;e.forEach((function(e){var n=t._parse_option_arg(e).val;n&&r.includes(n)||(i+=t._generate_option_html(e))})),this._input_el.innerHTML=i,this._input_modifier(n)}},{key:"_input_modifier",value:function(e){i()(e,{val:e}),this._input_el.querySelector('option[value="'+e+'"]')||(this._input_el.innerHTML=this._generate_option_html(e)+t.get_divider().divider_html+this._input_el.innerHTML),x(j(t.prototype),"_input_modifier",this).call(this,e)}},{key:"_generate_option_html",value:function(e){var t=this._parse_option_arg(e),n=t.val,r=t.val_pretty,i=t.divider_html;return i||'<option label="'+r+'" value="'+n+'">'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")+"</option>"}},{key:"_parse_option_arg",value:function(e){i()(e,this._input_id,{option_arg:e});var t=e.divider_html;if(t)return{divider_html:t};var n=e.val||e;i()(n&&n.constructor===String,e);var r=e.val_pretty||n;return i()(r.constructor===String,r),{val:n,val_pretty:r}}}]),t}(D),U=function(e){function t(){var e,n;A(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=E(this,(e=j(t)).call.apply(e,[this].concat(i)))).input_tag="input",n.input_type="datetime",n}return S(t,e),C(t,[{key:"_init_dom",value:function(){b()(this._input_el,{enableTime:!0})}}]),t}(D),J=function(e){function t(e){var n;return A(this,t),(n=E(this,j(t).call(this,e))).input_tag=void 0,n.input_type=void 0,n.input_tag="input",n.input_type="color",n}return S(t,e),C(t,[{key:"init",value:function(){x(j(t.prototype),"init",this).call(this),this._dom_el.classList.add("pointer-cursor")}}]),t}(D),Y=function(){function e(t){var n=t.on_click,r=t.text,i=t.input_container,o=t.className,a=void 0===o?null:o,s=t.id;A(this,e),this.on_click=void 0,this.text=void 0,this.input_container=void 0,this.className=void 0,this.id=void 0,this.dom_el=void 0,this.on_click=n,this.text=r,this.input_container=i,this.className=a,this.id=s}return C(e,[{key:"generate_dom",value:function(){var e=this,t=document.createElement("button");this.className&&t.setAttribute("class",this.className),t.setAttribute("type","button"),t.setAttribute("id",this.id),t.onclick=function(t){t.preventDefault(),e.on_click()},t.textContent=this.text,this.input_container.appendChild(t),this.dom_el=t}},{key:"hide",value:function(){V(this.dom_el,!0)}},{key:"show",value:function(){V(this.dom_el)}}]),e}();function V(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?e.setAttribute("disabled","true"):e.removeAttribute("disabled"),e.style.width=t?"0px":"",e.style.height=t?"0px":"",e.style.visibility=t?"hidden":"visible",e.style.position=t?"absolute":"",e.style.zIndex=t?"-1":""}var $=n(46);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(e){var t=e.key_replacements,n=e.value_replacements,r={},i=!1;if(Object.entries(localStorage).forEach((function(e){var o=G(e,2),a=o[0],s=o[1];t&&a in t&&(a=t[a],i=!0),n&&a in n&&s in n[a]&&(s=n[a][s],i=!0),r[a]=s})),i)return i&&(localStorage.clear(),Object.keys(r).forEach((function(e){localStorage[e]=r[e]}))),i}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(){var e;Q({key_replacements:(e={theme:"clock_theme",bg_image:"clock_background_image",bg_color:"clock_background_color",font_shadow:"clock_shadow",color_font:"clock_color",font_size:"clock_size"},X(e,"12_hour","clock_twelve_hour_format"),X(e,"show_pm","clock_display_period"),X(e,"show_seconds","clock_display_seconds"),X(e,"show_date","clock_display_date"),X(e,"show_week","clock_display_week"),X(e,"show_seconds_title","clock_tab_display_seconds"),X(e,"color_icon","clock_tab_icon_color"),e),value_replacements:{clock_theme:{"":"_creator",random:"_random"}}})}function K(e){["countdown_presets","clock_presets"].forEach((function(t){var n=localStorage[t];if(n){var r=JSON.parse(n),i=!1;if(r.forEach((function(t){e(t)&&(i=!0)})),i){var o=JSON.stringify(r);localStorage[t]=o}}}))}function ee(){K((function(e){return i()(e.preset_name||e.preset_id),e.preset_name?(e.preset_id=e.preset_name,delete e.preset_name,!0):(i()(e.preset_options||e.preset_values),e.preset_options?(e.preset_values=e.preset_options,delete e.preset_options,!0):void 0)}))}function te(){K((function(e){if(i()(e.app_name||e.subapp_id),e.app_name)return e.subapp_id=e.app_name,delete e.app_name,!0}))}function ne(){Q({key_replacements:{bg_url:"timer_background_image",goto_url:"timer_youtube_alarm"}})&&(localStorage.timer_theme="_creator")}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ie(){Object.entries(localStorage).forEach((function(e){var t=re(e,2),n=t[0],r=t[1];(n.startsWith("timer_")||n.startsWith("clock_")||n.startsWith("countdown_")||"thanks-for-your-donation"===n)&&(n.endsWith("_presets")&&(r=JSON.parse(r)),"thanks-for-your-donation"===n&&(r=!0),w.c.set_val(n,r),window.localStorage.removeItem(n))})),w.c.migrate__rename_keys({"thanks-for-your-donation":"ad_removal"})}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ae(e,t,n){return(ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=le(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?ce(e):t}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ye(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ye(o,r,i,a,s,"next",e)}function s(e){ye(o,r,i,a,s,"throw",e)}a(void 0)}))}}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}function Oe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}Z.schema_version=new Date("2020-03-01"),ee.schema_version=new Date("2020-03-02"),te.schema_version=new Date("2020-03-03"),ne.schema_version=new Date("2020-03-04"),ie.schema_version=new Date("2020-04-21");var Ee=0;function xe(e){return"__private_"+Ee+++"_"+e}!function(){if("undefined"!=typeof window){var e=[Z,ee,te,ne,ie],t=w.c.get_schema_version();i()(t.constructor===Date),e.forEach((function(n,r){var o=n.schema_version;i()(o.constructor===Date),i()(r===e.length-1||o.getTime()<e[r+1].schema_version.getTime()),t.getTime()<o.getTime()&&(n(),w.c.set_schema_version(o))}))}}();var je=function(){function e(t){var n=this,r=t.option_spec_list,o=t.preset_spec_list,a=t.text_container,s=void 0===a?null:a,u=t.no_random_preset,c=void 0!==u&&u,l=t.on_any_change,_=t.on_font_change,p=void 0===_?null:_,d=t.enable_import_export,h=t.subapp_id,f=t.preset_concept_name;be(this,e),this.preset_concept_name=void 0,this.text_container=void 0,this.no_random_preset=void 0,this.on_any_change=void 0,this.on_font_change=void 0,this.enable_import_export=void 0,this.subapp_id=void 0,this.creator_content=void 0,this.options_content=void 0,this.options_container=void 0,this.save_content=void 0,this.save_container=void 0,this.share_content=void 0,this.share_container=void 0,this.preset_list=void 0,this.option_list=void 0,this.resolve_font_loaded_promise=void 0,this.font_loaded_promise=void 0,this.button_mod=void 0,this.button_del=void 0,this.name_option=void 0,this.button_url=void 0,Object.defineProperty(this,Se,{writable:!0,value:null}),Object.defineProperty(this,Pe,{writable:!0,value:null}),Object.defineProperty(this,ze,{writable:!0,value:null}),Object.defineProperty(this,Te,{writable:!0,value:!1}),i()(f);var v,m,y=!!r.find((function(e){return"text-font-input"===e.option_type})),g=!!r.find((function(e){return"text-shadow-input"===e.option_type})),b=!!r.find((function(e){return"text-color-input"===e.option_type}));i()(!s&&!p&&!y&&!g&&!b||s&&p&&y&&g&&b),this.preset_concept_name=f,this.text_container=s,this.no_random_preset=c,this.on_any_change=l,this.on_font_change=p,this.enable_import_export=d,this.subapp_id=h,this.creator_content=document.getElementById("creator-content"),this.options_content=document.getElementById("options-content"),this.options_container=document.getElementById("options-container"),this.save_content=document.getElementById("save-content"),this.save_container=document.getElementById("save-container"),this.share_content=document.getElementById("share-content"),this.share_container=document.getElementById("share-container"),this.preset_list=new Ye({preset_spec_list:o,tab_settings:this}),this.option_list=(m=(v={tab_settings:this,option_spec_list:r}).tab_settings,v.option_spec_list.map((function(e){var t=e.option_type,n=ve(e,["option_type"]);i()(n.option_id,n);var r=he({},n,{tab_settings:m});return"text-font-input"===t?new He(r):"preset-input"===t?new qe(r):"text-color-input"===t?new Be(r):"color-input"===t?new De(r):"text-shadow-input"===t?new Me(r):"text-input"===t?new Re(r):"background-image-input"===t?new Fe(r):"background-color-input"===t?new We(r):"boolean-input"===t?new Ce(r):"date-input"===t?new Le(r):"choice-input"===t?new Ne(r):void i()(!1,{option_type:t})}))),this.resolve_font_loaded_promise,this.font_loaded_promise=new Promise((function(e){return n.resolve_font_loaded_promise=e}))}var t,n;return ke(e,[{key:"generate_dom",value:function(){this.option_list.forEach((function(e){e.generate_dom()})),this.enable_import_export&&this.generate_import_export_dom(),this.global_side_effects({is_initial_run:!0})}},{key:"generate_import_export_dom",value:function(){var e=this,t=this.creator_content,n=new Y({input_container:t,text:"Customize",className:"action-button",on_click:function(){e.modify_preset()},id:"modify-preset-button"});n.generate_dom(),this.button_mod=n;var r=new Y({input_container:t,text:"Delete",className:"action-button",on_click:function(){e.delete_preset()},id:"delete-preset-button"});r.generate_dom(),this.button_del=r,t=this.save_content;var o=this.subapp_id;i()(o);var a=new Re({input_container:t,option_id:o+"_name",input_width:"150px",option_description:this.preset_concept_name+" name",option_default:"",tab_settings:this,id:"preset-name-input"});a.generate_dom(),this.name_option=a;var s=new Y({input_container:t,text:"Save",on_click:function(){e.save_created_preset()},id:"save-preset-button"});s.generate_dom(),this.button_url=s}},{key:"save_created_preset",value:function(){i()(this.preset_selected.is_creator_preset);var e=this.name_option.input_value;if(e){var t=ut.from_name_to_id(e);if(this.preset_list.get_preset_by_name(t,{can_be_null:!0})){var n="Change the name of your "+this.preset_concept_name+"; you already have a "+this.preset_concept_name+' saved with ID "'+t+'". (IDs are genrated from name; change name to change ID.)';alert(n)}else{var r={};this.option_list.filter((function(e){return e.is_creator_option})).forEach((function(e){var t=e.input_value;i()([!1,""].includes(t)||t,e.option_id,void 0===t,{preset_val:t}),r[e.option_id]=t}));var o=new Xe({preset_id:t,preset_values:r,tab_settings:this});this.preset_list.save_preset(o),this.select_preset(o),this.reset_creator()}}else alert("You need to provide a name for your "+this.preset_concept_name+" in order to save it.")}},{key:"reset_creator",value:function(){this.option_list.forEach((function(e){e.reset()}))}},{key:"copy_to_creator",value:function(){var e=this,t=this.active_preset;i()(t.is_real_preset);var n=t.preset_values,r=function(t){var r=n[t];i()(!["preset_name","preset_id","id","name"].includes(r)),e.find_option((function(e){return e.option_id===t})).set_input_value(r)};for(var o in n)r(o);this.select_preset_creator()}},{key:"modify_preset",value:function(){var e=this.active_preset;i()(e.is_real_preset);var t=this.preset_list.generate_unique_preset_id_copy(e);this.copy_to_creator(),this.name_option.set_input_value(ut.from_id_to_name(t))}},{key:"delete_preset",value:function(){var e=this.active_preset;i()(e.is_saved_preset),this.copy_to_creator(),this.name_option.set_input_value(e.preset_name),this.preset_list.remove_preset(e)}},{key:"global_side_effects",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.is_initial_run,r=void 0!==n&&n;r?this.run_side_effects(!0):Oe(this,Se)[Se]||(Oe(this,Se)[Se]=requestAnimationFrame((function(){e.run_side_effects(),Oe(e,Se)[Se]=null})))}},{key:"run_side_effects",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.update_background(),this.text_container&&(this.update_font(),this.load_font_list()),this.update_option_visibility(),this.update_button_visibility(),this.on_any_change({is_initial_run:t}),this.update_share_link(),this.update_save_block(),t&&(this.load_preset_from_url(),window.addEventListener("hashchange",(function(){return e.load_preset_from_url()}),{passive:!0}),this.track_user_presets(),this.set_options_container_visibility())}},{key:"set_options_container_visibility",value:function(){this.option_list.every((function(e){return i()(e.is_creator_option.constructor===Boolean),e.is_creator_option||e.is_preset_selector}))&&(this.options_container.style.display="none")}},{key:"track_user_presets",value:function(){Object(m.d)({name:"preset_used",value:this.preset_selected.preset_id+" "+this.preset_concept_name.toLowerCase()})}},{key:"update_share_link",value:function(){var e=this.preset_selected;if(e.is_saved_preset){this.share_container.classList.remove("no-share-link");var t=e.share_link;Oe(this,Pe)[Pe]!==t&&(Oe(this,Pe)[Pe]=t,Oe(this,ze)[ze]||(Oe(this,ze)[ze]=document.createElement("a"),Oe(this,ze)[ze].id="share-link-tag",this.share_content.appendChild(Oe(this,ze)[ze])),Oe(this,ze)[ze].setAttribute("href",t),Oe(this,ze)[ze].textContent=t)}else this.share_container.classList.add("no-share-link")}},{key:"update_save_block",value:function(){this.save_container.style.display=this.preset_selected.is_creator_preset?"":"none"}},{key:"load_preset_from_url",value:function(){var e=window.location.href,t=ct.from_url();if(null!==t){var n=t.preset_id;i()(n);var r=this.preset_list.get_preset_by_name(n,{can_be_null:!0});if(r)return this.select_preset(r),Object($.a)(this.preset_concept_name+' "'+r.preset_name+'" already saved.'),void Object(y.b)();var o=t.subapp_id;if(i()(o),o!==this.subapp_id)alert("Wrong app: the URL hash should be loaded in a different app.");else{var a=t.preset_values;i()(a);var s=new Xe({preset_id:n,preset_values:a,tab_settings:this});this.preset_list.save_preset(s),this.select_preset(s),Object($.a)(this.preset_concept_name+' "'+s.preset_name+'" successfully saved.'),Object(y.b)(),Object(m.d)({name:"preset_imported",value:this.preset_concept_name+" "+s.preset_name,data:{preset_url:e}})}}}},{key:"update_background",value:function(){var e=this.current_backgroud_image,t=this.current_backgroud_color;p(e||t)}},{key:"update_font",value:(n=ge(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.text_container,n=function(){return r.current_font_name},e.next=4,Ue({text_container:t,get_font_name:n});case 4:this.on_font_change(),this.resolve_font_loaded_promise();case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"update_option_visibility",value:function(){var e=this;this.option_list.forEach((function(t){var n;t.option_dependency&&(n=t.option_dependency,!e.find_option((function(e){return e.option_id===n})).input_value)||t.is_creator_option&&!e.preset_selected.is_creator_preset?t.hide():t.show()}))}},{key:"update_button_visibility",value:function(){this.enable_import_export&&(this.preset_selected.is_saved_preset?this.button_del.show():this.button_del.hide(),this.preset_selected.is_creator_preset?(this.button_mod.hide(),this.button_url.show(),this.name_option.show()):(this.button_url.hide(),this.name_option.hide(),this.preset_selected.is_randomizer_preset?this.button_mod.hide():this.button_mod.show()))}},{key:"load_font_list",value:(t=ge(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.preset_selected.is_creator_preset){e.next=2;break}return e.abrupt("return");case 2:if(!Oe(this,Te)[Te]){e.next=4;break}return e.abrupt("return");case 4:return Oe(this,Te)[Te]=!0,e.t0=this.font_option,e.t1=[H.get_divider()],e.t2=me,e.next=10,_();case 10:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=e.t1.concat.call(e.t1,e.t4),e.t0.add_fonts.call(e.t0,e.t5);case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"find_option",value:function(e){var t=this.option_list.find(e);return i()(t),t}},{key:"select_preset_creator",value:function(){this.active_preset=this.preset_list.creator_preset}},{key:"select_preset",value:function(e){this.active_preset=e}},{key:"get_option_value",value:function(e){return this.find_option((function(t){return t.option_id===e})).active_value}},{key:"background_image_option",get:function(){return this.find_option((function(e){return e.is_background_image_option}))}},{key:"current_backgroud_image",get:function(){return this.background_image_option.active_value}},{key:"background_color_option",get:function(){return this.find_option((function(e){return e.is_background_color_option}))}},{key:"current_backgroud_color",get:function(){return this.background_color_option.active_value}},{key:"font_option",get:function(){return this.find_option((function(e){return e.is_font_option}))}},{key:"current_font_name",get:function(){return this.font_option.active_value}},{key:"active_preset",get:function(){var e,t=this.preset_selected;return e=t.is_randomizer_preset?t.random_preset:t,i()(!e.is_randomizer_preset),i()(e.preset_id),e},set:function(e){var t;e.constructor===String&&(t=e),(e instanceof Qe||e instanceof it)&&(t=e.preset_id),i()(t,{preset_thing:e,preset_id:t}),this.preset_option.set_input_value(t)}},{key:"preset_selected",get:function(){var e=this.preset_option.input_value,t=this.preset_list.get_preset_by_name(e,{can_be_null:!0});if(t)return t;var n=this.preset_option.option_default;return i()(n,{default_preset_id:n}),this.preset_list.get_preset_by_name(n)}},{key:"preset_option",get:function(){return this.find_option((function(e){return e.is_preset_selector}))}}]),e}(),Se=xe("global_side_effects__timeout"),Pe=xe("previous_link"),ze=xe("link_el"),Te=xe("font_list_already_loading"),Ae=function(){function e(t){var n=this,r=t.option_id,o=t.option_description,a=t.option_default,s=t.input_width,u=t.tab_settings,c=t.input_container,l=t.is_creator_option,_=void 0!==l&&l,p=ve(t,["option_id","option_description","option_default","input_width","tab_settings","input_container","is_creator_option"]);be(this,e),this.tab_settings=void 0,this.option_id=void 0,this.option_description=void 0,this.input_args=void 0,this.is_creator_option=void 0,this.option_default=void 0,this.user_input=void 0,i()(r),i()(o),i()(u),Object.assign(this,he({option_id:r,tab_settings:u},p)),this.is_creator_option=_,this.option_default=a,c=c||(_?this.tab_settings.creator_content:this.tab_settings.options_content),i()(c,{option_id:r}),this.input_args={input_id:r,input_description:o,on_input_change:function(){n.tab_settings.global_side_effects()},input_default:a,input_container:c,input_width:s}}return ke(e,[{key:"generate_dom",value:function(){this.before_dom&&this.before_dom(),i()(this.user_input),this.user_input.init()}},{key:"set_input_value",value:function(e){this.user_input.input_set(e)}},{key:"hide",value:function(){this.user_input.hide()}},{key:"show",value:function(){this.user_input.show()}},{key:"reset",value:function(){}},{key:"input_value",get:function(){return this.user_input.input_get()}},{key:"preset_value",get:function(){return this.tab_settings.active_preset.get_preset_value(this)}},{key:"active_value",get:function(){if(this.tab_settings.preset_selected.is_creator_preset)return this.input_value;var e=this.preset_value;return this.is_creator_option||null!==e?e:this.input_value}}]),e}(),Le=function(e){function t(e){var n;return be(this,t),(n=ue(this,le(t).call(this,e))).user_input=new U(n.input_args),n}return _e(t,e),t}(Ae),Ce=function(e){function t(e){var n;return be(this,t),(n=ue(this,le(t).call(this,e))).user_input=new F(n.input_args),n}return _e(t,e),t}(Ae),Ie=function(e){function t(e,n){var r;return be(this,t),(r=ue(this,le(t).call(this,e))).user_input=void 0,r.user_input=new H(he({input_options:n},r.input_args)),r}return _e(t,e),ke(t,[{key:"add_options",value:function(e){this.user_input.add_options(e)}}]),t}(Ae),Ne=function(e){function t(e){var n=e.option_choices,r=ve(e,["option_choices"]);return be(this,t),ue(this,le(t).call(this,he({input_width:"100px"},r),n))}return _e(t,e),t}(Ie),Re=function(e){function t(e){var n;return be(this,t),(n=ue(this,le(t).call(this,e))).input_args.input_placeholder=e.option_placeholder,n.user_input=new W(n.input_args),n}return _e(t,e),t}(Ae),De=function(e){function t(e){var n;return be(this,t),(n=ue(this,le(t).call(this,he({input_width:"35px"},e)))).user_input=new J(n.input_args),n}return _e(t,e),t}(Ae),Be=function(e){function t(){return be(this,t),ue(this,le(t).apply(this,arguments))}return _e(t,e),t}(De),Me=function(e){function t(){return be(this,t),ue(this,le(t).apply(this,arguments))}return _e(t,e),t}(Re),qe=function(e){function t(e){var n,r=e.input_options,i=ve(e,["input_options"]);return be(this,t),(n=ue(this,le(t).call(this,he({input_width:"93px",input_container:i.tab_settings.creator_content},i),r))).is_preset_selector=!0,n}return _e(t,e),ke(t,[{key:"before_dom",value:function(){this.user_input.input_options=this.get_input_options()}},{key:"refresh",value:function(){this.before_dom(),this.user_input.refresh()}},{key:"get_input_options",value:function(){var e=this.tab_settings.preset_list.presets_ordered,t=e.special_ones,n=e.saved_ones,r=e.native_ones,o=function(e){var t=e.preset_id,n=e.preset_name;return i()(t),i()(n),{val:t,val_pretty:n}};return t=t.map(o),n=n.map(o),r=r.map(o),n.length>0?[].concat(me(t),[H.get_divider("Saved")],me(n),[H.get_divider("Native")],me(r)):[].concat(me(t),[H.get_divider()],me(r))}}]),t}(Ie),Fe=function(e){function t(){var e,n;be(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=ue(this,(e=le(t)).call.apply(e,[this].concat(i)))).is_background_image_option=!0,n}return _e(t,e),t}(Re),We=function(e){function t(){var e,n;be(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=ue(this,(e=le(t)).call.apply(e,[this].concat(i)))).is_background_color_option=!0,n}return _e(t,e),t}(De),He=function(e){function t(e){var n,r=e.input_optoins,i=ve(e,["input_optoins"]);return be(this,t),(n=ue(this,le(t).call(this,he({input_width:"110px"},i),r))).is_font_option=!0,n}return _e(t,e),ke(t,[{key:"before_dom",value:function(){this.user_input.input_options=this.tab_settings.preset_list.get_all_preset_fonts()}},{key:"add_fonts",value:function(e){this.add_options(e)}},{key:"input_value",get:function(){var e=ae(le(t.prototype),"input_value",this);return i()(e,{val:e}),e}}]),t}(Ie);function Ue(e){return Je.apply(this,arguments)}function Je(){return(Je=ge(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text_container,r=t.get_font_name,i=r(),e.next=4,u(i);case 4:if(i===r()){e.next=6;break}return e.abrupt("return");case 6:if(i!==n.style.fontFamily){e.next=8;break}return e.abrupt("return");case 8:n.style.fontFamily=i;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=function(){function e(t){var n=t.preset_spec_list,r=t.tab_settings;be(this,e),Object.defineProperty(this,Ve,{writable:!0,value:null}),Object.defineProperty(this,$e,{writable:!0,value:null}),this.tab_settings=void 0,this.randomizer_preset=void 0,this.creator_preset=void 0,this.tab_settings=r,Oe(this,Ve)[Ve]=new nt({subapp_id:r.subapp_id}),this.tab_settings.no_random_preset||(this.randomizer_preset=new ot({preset_list:this})),this.creator_preset=new st,Oe(this,$e)[$e]=Object.entries(n).map((function(e){var t=oe(e,2),n=t[0],i=t[1];return new Ke({preset_id:n,preset_values:i,tab_settings:r})}))}return ke(e,[{key:"save_preset",value:function(e){Oe(this,Ve)[Ve].save_preset(e),this.refresh_user_input()}},{key:"remove_preset",value:function(e){Oe(this,Ve)[Ve].remove_preset(e),this.refresh_user_input()}},{key:"refresh_user_input",value:function(){this.tab_settings.preset_option.refresh()}},{key:"_get_saved_presets",value:function(){var e=this.tab_settings;return Oe(this,Ve)[Ve].get_saved_presets().map((function(t){var n=t.preset_id,r=t.preset_values;return new Xe({preset_id:n,preset_values:r,tab_settings:e})}))}},{key:"get_preset_by_name",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.can_be_null,r=void 0!==n&&n;i()(e);var o=this._get_all_presets(),a=!0,s=!1,u=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var _=c.value;if(_.preset_id===e)return _}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}i()(r,{preset_id:e})}},{key:"get_all_preset_fonts",value:function(){var e=this.presets_ordered,t=e.saved_ones,n=e.native_ones,r=[].concat(me(t),me(n));r.forEach((function(e){return i()(e.is_real_preset,e.preset_id)}));var o,a=r.map((function(e){var t=e.preset_font_name;return i()(t,e.preset_id),t}));return o=a,a=Array.from(new Set(o.filter(Boolean))).sort()}},{key:"generate_unique_preset_id_copy",value:function(e){var t=this._get_all_preset_ids(),n=e.preset_id;i()(n);var r=ut.white_space_seralized;i()(r);for(var o=n.split("_").join(r).split(/-edit(-|$)/)[0]+r+"edit",a=1;a<100;a++){var s=o+(1===a?"":r+a);if(!t.includes(s))return s}i()(!1)}},{key:"_get_all_preset_ids",value:function(){return this._get_all_presets().map((function(e){return e.preset_id}))}},{key:"_get_all_presets",value:function(){var e=this.presets_ordered,t=e.special_ones,n=e.saved_ones,r=e.native_ones;return[].concat(me(t),me(n),me(r))}},{key:"random_candidates",get:function(){var e=this.presets_ordered,t=e.saved_ones,n=e.native_ones;return t.length>1?t:n}},{key:"presets_ordered",get:function(){var e=[this.creator_preset];this.randomizer_preset&&e.push(this.randomizer_preset);var t=this._get_saved_presets(),n=Oe(this,$e)[$e];return i()(e&&t&&n),{special_ones:e,saved_ones:t,native_ones:n}}}]),e}(),Ve=xe("preset_savior"),$e=xe("native_presets"),Ge=function(){function e(){be(this,e)}return ke(e,null,[{key:"serialize_preset",value:function(e){i()(e instanceof Xe);var t=e.preset_id,n=e.preset_values,r=e.tab_settings.subapp_id,o=new et({preset_id:t,preset_values:n,subapp_id:r});return Object(w.b)(o)}},{key:"deserialize_preset",value:function(e){i()(e.constructor===String);var t=Object(w.a)(e);return t.preset_name&&!t.preset_id&&t.preset_options&&!t.preset_values&&(t.preset_id=t.preset_name,delete t.preset_name,t.preset_values=t.preset_options,delete t.preset_options),t.app_name&&!t.subapp_id&&(t.subapp_id=t.app_name,delete t.app_name),t=new et(t)}}]),e}(),Qe=function(){function e(t){var n=t.preset_id,r=t.preset_values,o=t.tab_settings;if(be(this,e),this.preset_id=void 0,this.preset_values=void 0,this.tab_settings=void 0,this.is_randomizer_preset=!1,this.is_creator_preset=!1,i()(n),i()([Object,tt].includes(r.constructor)),i()(o),this.preset_id=n,this.preset_values=r,this.tab_settings=o,(this instanceof e?this.constructor:void 0)===e)throw new TypeError("Cannot construct Preset instances directly.")}return ke(e,[{key:"get_preset_value",value:function(e){var t=e.option_id;i()(t);var n=this.preset_values;if(t in n){var r=n[t];return i()(null!==r),r}return null}},{key:"is_real_preset",get:function(){return!this.is_randomizer_preset&&!this.is_creator_preset}},{key:"preset_font_name",get:function(){var e=this.get_preset_value(this.tab_settings.font_option);return i()(e),e}},{key:"preset_name",get:function(){var e=ut.from_id_to_name(this.preset_id);return i()(e),e}}]),e}(),Xe=function(e){function t(){var e,n;be(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ue(this,(e=le(t)).call.apply(e,[this].concat(i))),Object.defineProperty(ce(n),Ze,{writable:!0,value:null}),n}return _e(t,e),ke(t,[{key:"is_saved_preset",get:function(){return!0}},{key:"share_link",get:function(){return Oe(this,Ze)[Ze]?Oe(this,Ze)[Ze]:Oe(this,Ze)[Ze]=ct.to_url(this)}}]),t}(Qe),Ze=xe("generated_link"),Ke=function(e){function t(e){var n;be(this,t),n=ue(this,le(t).call(this,e));var r=e.preset_id;return i()(!r.includes("-"),{preset_id:r}),i()(/^[a-zA-Z0-9_]+$$/.test(r),{preset_id:r}),n}return _e(t,e),t}(Qe),et=function e(t){be(this,e),this.subapp_id=void 0,this.preset_id=void 0,this.preset_values=void 0;var n=t.preset_id,r=t.preset_values,o=t.subapp_id,a=ve(t,["preset_id","preset_values","subapp_id"]);i()(0===Object.keys(a).length,t),i()(n&&r&&o,t),this.subapp_id=o,this.preset_id=n,this.preset_values=new tt(r)},tt=function e(t){be(this,e),i()([Object,e].includes(t.constructor),t,t.constructor),Object.assign(this,t)},nt=function(){function e(t){var n=t.subapp_id;be(this,e),Object.defineProperty(this,rt,{writable:!0,value:null}),i()(n),Oe(this,rt)[rt]=n}return ke(e,[{key:"get_saved_presets",value:function(){return this._get_presets()}},{key:"save_preset",value:function(e){var t=e.preset_id,n=e.preset_values;i()(t),i()(n);var r=this._get_presets();if(r.find((function(e){return e.preset_id===t})))i.a.warning("Trying to save "+t+" but it is already saved.");else{var o=Oe(this,rt)[rt],a=new et({preset_id:t,preset_values:n,subapp_id:o});r.push(a),this._save_presets(r)}}},{key:"remove_preset",value:function(e){var t=e.preset_id;i()(t);var n=this._get_presets(),r=n.length,o=(n=n.filter((function(e){return e.preset_id!==t}))).length;o===r&&i.a.warning(!1,"Preset "+t+" not found."),o!==r-1&&i.a.warning(!1,"Preset "+t+" found multiple times."),this._save_presets(n)}},{key:"_get_presets",value:function(){var e=w.c.get_val(this._storage_key)||[];return i()(e.constructor===Array),e=e.map((function(e){return new et(e)}))}},{key:"_save_presets",value:function(e){i()(e.constructor===Array),e.forEach((function(e){i()(e instanceof et)})),w.c.set_val(this._storage_key,e)}},{key:"_storage_key",get:function(){return Oe(this,rt)[rt]+"_presets"}}]),e}(),rt=xe("subapp_id"),it=function(){function e(){be(this,e),this.is_randomizer_preset=void 0,this.is_creator_preset=void 0,this.preset_id=void 0,this.preset_name=void 0}return ke(e,[{key:"get_preset_value",value:function(){return null}}]),e}(),ot=function(e){function t(e){var n,r=e.preset_list;return be(this,t),n=ue(this,le(t).call(this)),Object.defineProperty(ce(n),at,{writable:!0,value:null}),n.is_randomizer_preset=!0,n.is_creator_preset=!1,n.preset_id="_random",n.preset_name="<Random>",n.preset_list=void 0,n.is_randomizer_preset=!0,n.preset_list=r,n}return _e(t,e),ke(t,[{key:"pick_random_preset",value:function(){var e=this.preset_list.random_candidates;return e[Math.floor(Math.random()*e.length)]}},{key:"random_preset",get:function(){return Oe(this,at)[at]||(Oe(this,at)[at]=this.pick_random_preset()),i()(Oe(this,at)[at].is_real_preset,Oe(this,at)[at].preset_id,Oe(this,at)[at]),Oe(this,at)[at]}}]),t}(it),at=xe("picked"),st=function(e){function t(){var e,n;be(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=ue(this,(e=le(t)).call.apply(e,[this].concat(i)))).is_randomizer_preset=!1,n.is_creator_preset=!0,n.preset_id="_creator",n.preset_name="<Creator>",n}return _e(t,e),t}(it),ut=function(){function e(){be(this,e)}return ke(e,null,[{key:"from_id_to_name",value:function(e){i()(e);var t=/[-_]/;return i()("a"==="--a-_-_--".split(t).filter(Boolean).join("")),e.split(t).filter(Boolean).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")}},{key:"from_name_to_id",value:function(t){i()(t);var n=/[\s-_]/;return i()("a"==="  -- a-  _-  _--".split(n).filter(Boolean).join("")),t.split(n).filter(Boolean).join(e.white_space_seralized).toLowerCase()}}]),e}();ut.white_space_seralized="-";var ct=function(){function e(){be(this,e)}return ke(e,null,[{key:"_to_base64",value:function(e){var t=window.btoa(e);return i()("YWI/"===window.btoa("ab?")),t=t.split("/").join("_"),i()("YWI+"===window.btoa("ab>")),t=t.split("+").join("-")}},{key:"_from_base64",value:function(e){return e=(e=e.split("_").join("/")).split("-").join("+"),window.atob(e)}},{key:"to_url",value:function(e){i()(e instanceof Qe),i()(e.is_saved_preset);var t=Ge.serialize_preset(e),n=this._to_base64(t),r=window.location.href.split("#")[0],o=e.preset_id,a=encodeURIComponent(o);return i.a.warning(name!==a,{name:name,name_encoded:a}),r+"#"+a+"/"+n}},{key:"from_url",value:function(){var e,t=window.location.href.split("#")[1];if(!t)return null;if(!(t=t.split("/")[1]))return null;try{t=this._from_base64(t)}catch(e){return n(e),null}try{e=Ge.deserialize_preset(t)}catch(e){return n(e),null}return e;function n(e){Object($.a)("Wrong URL. The URL could not be processed.",{is_error:!0}),Object(m.c)({name:"preset_url_parsing",err:e}),console.log(t),console.error(e)}}}]),e}()}}]);
//# sourceMappingURL=countdown.hash_58605ccf3c98bb4a8c79.js.map