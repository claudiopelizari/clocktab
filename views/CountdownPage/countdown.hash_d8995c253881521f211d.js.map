{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./.build/.goldpage/generated-source-code/browser-entries/views/CountdownPage/countdown.browser-entry.js","webpack:///./views/CountdownPage/set_countdown.js","webpack:///./views/CountdownPage/PRESETS.js","webpack:///./views/CountdownPage/init_countdown_options.js","webpack:///./views/CountdownPage/preset_concept_name.js","webpack:///./views/CountdownPage/onPageLoad.js","webpack:///./views/CountdownPage/CountdownView.js","webpack:///./views/CountdownPage/countdown.page.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","21","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ret","browserConfig","require","initFunctions","pageConfig","get_option_value","start_countdown","_get_option_value","pulse","dom_beat","setTimeout","top_text","document","querySelector","center_text","countdown_date","Date","countdown_title","replace","toLocaleDateString","time_left__miliseconds","rest","seconds","minutes","hours","days","months","time_major","time_minor","filter","forEach","val","suffix","suffix_long","format","title","update_tab_title","textContent","set_bottom_line","refresh_big_text_size","new_year","getFullYear","toString","us_election","PRESETS","trump_wins_2020","countdown_size","countdown_position","countdown_background_color","countdown_background_image","countdown_font","countdown_shadow","countdown_color","trump_loses_2020","christmas","init_clock_options","text_container","getElementById","tab_settings","TabSettings","option_spec_list","option_id","option_type","option_description","option_default","getNextDay","is_creator_option","option_choices","option_placeholder","preset_spec_list","on_any_change","is_initial_run","update_options","on_font_change","no_random_preset","enable_import_export","subapp_id","preset_concept_name","font_loaded_promise","generate_dom","style","color","textShadow","set_text_position","setHours","onPageLoad","load_common","init_countdown_options","set_max_width_getter","on_big_text_load","Promise","race","sleep","CountdownView","BigText","id","content_on_top","top_line_content","Counter","SettingsView","News","config","route","view"],"mappings":"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","file":"views/CountdownPage/countdown.hash_d8995c253881521f211d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t21: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([475,1,2,0,3]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","const browserConfig = require('/home/romu/code/clocktab/node_modules/@brillout/browser-config/index.js');\n\nbrowserConfig.initFunctions = {};\n\nbrowserConfig.initFunctions = browserConfig.initFunctions || {};\nbrowserConfig.initFunctions['hydratePage'] = (() => {const ret = require('/home/romu/code/clocktab/node_modules/@goldpage/browser/hydratePage.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\nbrowserConfig.pageConfig = (() => {const ret = require('/home/romu/code/clocktab/views/CountdownPage/countdown.page.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\nbrowserConfig['router'] = (() => {const ret = require('/home/romu/code/clocktab/node_modules/@goldpage/path-to-regexp/router.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\nbrowserConfig['renderPageToDom'] = (() => {const ret = require('/home/romu/code/clocktab/node_modules/@goldpage/html/renderPageToDom.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\nbrowserConfig['domRender'] = (() => {const ret = require('/home/romu/code/clocktab/tab-utils/_render/browser/domRender.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\n(() => {const ret = require('/home/romu/code/clocktab/node_modules/@goldpage/browser/browserInit.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n","import { refresh_big_text_size, set_bottom_line } from \"../BigText\";\n\nexport { start_countdown };\nexport { dom_beat };\n\nlet get_option_value;\nfunction start_countdown({ get_option_value: _get_option_value }) {\n  get_option_value = _get_option_value;\n  ignite_beat();\n}\n\nfunction dom_beat() {\n  const top_text = document.querySelector(\"#top-text\");\n  const center_text = document.querySelector(\"#center-text\");\n\n  const countdown_date = new Date(get_option_value(\"countdown_date\"));\n\n  let countdown_title = get_option_value(\"countdown_title\");\n  countdown_title = countdown_title.replace(\n    \"%date\",\n    new Date().toLocaleDateString()\n  );\n\n  const now = new Date();\n  const { time_major, time_minor } = format(countdown_date - now);\n\n  update_tab_title({ time_major, countdown_title });\n\n  center_text.textContent = time_major;\n  top_text.textContent = countdown_title;\n  set_bottom_line(time_minor);\n  refresh_big_text_size();\n}\n\nfunction update_tab_title({ time_major, countdown_title }) {\n  let title = time_major;\n  if (countdown_title) {\n    title += \" - \" + countdown_title + \" - Countdown\";\n  }\n  document.title = title;\n}\n\nfunction format(time_left__miliseconds) {\n  let rest = time_left__miliseconds;\n\n  const milliseconds = rest % 1000;\n  rest = (rest / 1000) | 0;\n\n  const seconds = pad(rest % 60);\n  rest = (rest / 60) | 0;\n\n  const minutes = rest % 60;\n  rest = (rest / 60) | 0;\n\n  const hours = rest % 24;\n  rest = (rest / 24) | 0;\n\n  const days = rest % 30;\n  rest = (rest / 30) | 0;\n\n  const months = rest % 12;\n  rest = (rest / 12) | 0;\n\n  const years = rest;\n\n  /*\n  const decades = rest;\n\n  const centuries = rest;\n\n  const centuries = rest;\n\n  const millennia\n  */\n\n  let time_major = \"\";\n  let time_minor = \"\";\n  [\n    [years, \"y\", \"year\"],\n    [months, \"mo\", \"month\"],\n    [days, \"d\", \"day\"],\n    [hours, \"h\", \"hour\"],\n    [minutes, \"m\", \"minute\"],\n    [seconds, \"s\", \"\"],\n    // [milliseconds, 'ms'],\n  ]\n    .filter(([val]) => val)\n    .forEach(([val, suffix, suffix_long], key) => {\n      if (key === 0) {\n        time_major = val;\n        if (suffix_long) {\n          time_major += \" \" + suffix_long + (val != 1 ? \"s\" : \"\");\n        }\n        return;\n      }\n\n      if (time_minor) time_minor += \" \";\n      time_minor += val + suffix;\n    });\n\n  return { time_major, time_minor };\n}\n\nfunction pad(i) {\n  return (0 <= i && i <= 9 ? \"0\" : \"\") + i;\n}\n\nfunction ignite_beat(pulse) {\n  pulse();\n\n  function pulse() {\n    dom_beat();\n    setTimeout(pulse, 1001);\n  }\n}\n","const new_year = new Date(\n  (new Date(new Date() - 8 * 60 * 60 * 1000).getFullYear() + 1).toString()\n);\nconst us_election = new Date(\"November 3, 2020\");\nconst christmas = new Date(\"December 25, \" + new Date().getFullYear());\n\nconst PRESETS = {\n  trump_wins_2020: {\n    countdown_size: \"380\",\n    countdown_title: \"Trump Wins\",\n    countdown_date: us_election,\n    countdown_position: \"bottom\",\n    countdown_background_color: \"\",\n    countdown_background_image: \"https://i.imgur.com/BpA8fWK.png\",\n    countdown_font: \"Roboto\",\n    countdown_shadow: \"1px 1px black\",\n    /// red: #e00014\n    countdown_color: \"#0300ff\",\n  },\n  trump_loses_2020: {\n    countdown_size: \"380\",\n    countdown_title: \"End of Trump\",\n    countdown_date: us_election,\n    countdown_position: \"bottom\",\n    countdown_background_color: \"\",\n    // Non-resized: https://i.imgur.com/srnUbAP.jpg\n    countdown_background_image: \"https://i.imgur.com/srnUbAPh.jpg\",\n    countdown_font: \"Roboto\",\n    countdown_shadow: \"1px 1px black\",\n    countdown_color: \"white\",\n  },\n\n  new_year: {\n    countdown_size: \"580\",\n    countdown_title: \"2021\",\n    countdown_date: new_year,\n    countdown_position: \"center\",\n    countdown_background_color: \"\",\n    countdown_background_image: \"https://i.imgur.com/H4ZC3pZ.jpg\",\n    countdown_font: \"Roboto\",\n    countdown_shadow: \"0 1px 1px #000000\",\n    countdown_color: \"#e9e9e9\",\n  },\n\n  // Christmas backgrounds\n  // - https://imgur.com/a/LDcQh1l\n  // - https://imgur.com/a/0BZ9N2b\n  // - https://imgur.com/a/72JS8Jn\n  christmas: {\n    countdown_size: \"380\",\n    countdown_title: \"Christmas\",\n    countdown_date: christmas,\n    countdown_position: \"top\",\n    countdown_background_color: \"\",\n    countdown_background_image: \"https://i.imgur.com/Px80XKC.jpg\",\n    countdown_font: \"Roboto\",\n    countdown_shadow: \"0 2px 2px black\",\n    countdown_color: \"#f1f1f1\",\n  },\n};\n\nexport default PRESETS;\n","import { refresh_big_text_size } from \"../BigText\";\nimport { TabSettings } from \"../../tab-utils/TabSettings\";\nimport { dom_beat } from \"./set_countdown\";\nimport PRESETS from \"./PRESETS\";\nimport { set_text_position } from \"../BigText\";\nimport { preset_concept_name } from \"./preset_concept_name\";\n\nexport default init_clock_options;\n\nfunction init_clock_options() {\n  const text_container = document.getElementById(\"countdown-container\");\n\n  const tab_settings = new TabSettings({\n    option_spec_list: get_option_list(),\n    preset_spec_list: PRESETS,\n    text_container,\n    on_any_change,\n    on_font_change,\n    no_random_preset: true,\n    enable_import_export: true,\n    subapp_id: \"countdown\",\n    preset_concept_name,\n  });\n\n  const get_option_value = tab_settings.get_option_value.bind(tab_settings);\n  const { font_loaded_promise } = tab_settings;\n\n  tab_settings.generate_dom();\n\n  return { get_option_value, font_loaded_promise };\n\n  function on_font_change() {\n    refresh_big_text_size();\n  }\n  function on_any_change({ is_initial_run }) {\n    update_options();\n    if (!is_initial_run) {\n      dom_beat();\n      refresh_big_text_size();\n    }\n  }\n\n  function update_options() {\n    text_container.style.color = get_option_value(\"countdown_color\");\n    text_container.style.textShadow = get_option_value(\"countdown_shadow\");\n    set_text_position(get_option_value(\"countdown_position\"));\n  }\n}\n\nfunction get_option_list() {\n  return [\n    {\n      option_id: \"countdown_preset\",\n      option_type: \"preset-input\",\n      option_description: preset_concept_name,\n      option_default: \"christmas\",\n    },\n    {\n      option_id: \"countdown_date\",\n      option_type: \"date-input\",\n      option_description: \"Date\",\n      option_default: getNextDay(),\n      is_creator_option: true,\n    },\n    {\n      option_id: \"countdown_title\",\n      option_type: \"text-input\",\n      option_description: \"Title\",\n      option_default: \"Until %date\",\n      is_creator_option: true,\n    },\n\n    {\n      option_id: \"countdown_position\",\n      option_type: \"choice-input\",\n      option_choices: [\n        \"top-left\",\n        \"top\",\n        \"top-right\",\n        \"center-left\",\n        \"center\",\n        \"center-right\",\n        \"bottom-left\",\n        \"bottom\",\n        \"bottom-right\",\n      ],\n      option_description: \"Countdown position\",\n      option_default: \"bottom\",\n      is_creator_option: true,\n    },\n\n    {\n      option_id: \"countdown_font\",\n      option_type: \"text-font-input\",\n      option_description: \"Font\",\n      option_default: \"Roboto\",\n      is_creator_option: true,\n    },\n    {\n      option_id: \"countdown_color\",\n      option_type: \"text-color-input\",\n      option_description: \"Font color\",\n      option_default: \"#2c2c2c\",\n      is_creator_option: true,\n    },\n    {\n      option_id: \"countdown_shadow\",\n      option_type: \"text-shadow-input\",\n      option_description: \"Font shadow\",\n      option_default: \"\",\n      option_placeholder: \"see css text-shadow\",\n      is_creator_option: true,\n    },\n    {\n      option_id: \"countdown_size\",\n      option_type: \"text-input\",\n      option_description: \"Countdown size\",\n      option_default: \"380\",\n      is_creator_option: true,\n    },\n    {\n      option_id: \"countdown_background_color\",\n      option_type: \"background-color-input\",\n      option_description: \"Background color\",\n      option_default: \"#ffffff\",\n      is_creator_option: true,\n    },\n    {\n      option_id: \"countdown_background_image\",\n      option_type: \"background-image-input\",\n      option_description: \"Background image\",\n      option_default: \"\",\n      option_placeholder: \"image url\",\n      is_creator_option: true,\n    },\n  ];\n}\n\nfunction getNextDay() {\n  const d = new Date(new Date() /* + 60*1000*/);\n  d.setHours(24, 0, 0, 0);\n  return d;\n}\n","const preset_concept_name = \"Countdown\";\nexport { preset_concept_name };\n","import { sleep } from \"../../tab-utils/sleep\";\nimport { on_big_text_load, set_max_width_getter } from \"../BigText\";\nimport init_countdown_options from \"./init_countdown_options\";\nimport { start_countdown } from \"./set_countdown\";\n\nexport default onPageLoad;\n\nasync function onPageLoad(load_common) {\n  const { get_option_value, font_loaded_promise } = init_countdown_options();\n\n  set_max_width_getter(() => get_option_value(\"countdown_size\"));\n\n  start_countdown({ get_option_value });\n\n  on_big_text_load();\n\n  await Promise.race([font_loaded_promise, sleep({ seconds: 0.4 })]);\n\n  load_common();\n}\n","import \"./countdown.css\";\nimport React from \"react\";\nimport { FullView, MorePanel } from \"../../tab-utils/views/FullViewWrapper\";\nimport BigText from \"../BigText\";\nimport News from \"../News\";\nimport { SettingsView } from \"../../tab-utils/TabSettings/SettingsView\";\nimport { preset_concept_name } from \"./preset_concept_name\";\n\nexport default CountdownView;\n\nfunction CountdownView() {\n  return (\n    <>\n      <FullView>\n        <BigText\n          id={\"countdown-container\"}\n          content_on_top={null}\n          top_line_content={<Counter />}\n        />\n      </FullView>\n\n      <MorePanel>\n        <SettingsView preset_concept_name={preset_concept_name} />\n        <News preset_concept_name={preset_concept_name} />\n      </MorePanel>\n    </>\n  );\n}\n\nfunction Counter() {\n  return (\n    <div>\n      <div id=\"top-text\" />\n      <div id=\"center-text\" />\n    </div>\n  );\n}\n","import {\n  FullView,\n  MorePanel,\n  config,\n} from \"../../tab-utils/views/FullViewWrapper\";\nimport onPageLoad from \"./onPageLoad\";\nimport CountdownView from \"./CountdownView\";\n\nexport default config({\n  route: \"/countdown\",\n  title: \"Countdown\",\n  view: CountdownView,\n  onPageLoad,\n});\n"],"sourceRoot":""}