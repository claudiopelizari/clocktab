{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./tab-utils/views/FullViewWrapper/on_page_load.js","webpack:///./tab-utils/views/FullViewWrapper/index.js","webpack:///./tab-utils/pretty_scroll_area.js","webpack:///./tab-utils/views/common/show_toast.js","webpack:///./.build/.goldpage/generated-source-code/browser-entries/views/MsgTabPage/msg-tab.browser-entry.js","webpack:///./views/MsgTabPage/lib.js","webpack:///./views/MsgTabPage/UseCases.js","webpack:///./views/MsgTabPage/init_msg_tab.js","webpack:///./views/MsgTabPage/msg-tab.page.js","webpack:///./tab-utils/sleep.js","webpack:///./node_modules/toastify-js/src/toastify.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","22","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","on_page_load","onPageLoad","goldpage_args","pretty_scroll_area","manual_scroll","document","querySelector","manual_fullscreen","full_view","onclick","do_scroll","stop_auto_scroll","counter","repeater","auto_scroll","addScrollListener","scrollPos","fullscreenElement","exitFullscreen","start_auto_scroll","onlyUserScroll","fireInitialScroll","show","inOneSec","assert","internal","hide","clearTimeout","removeAttribute","setAttribute","textContent","setTimeout","activate_auto_scroll","scrollToElement","documentElement","requestFullscreen","show_toast","is_error","short_duration","requestAnimationFrame","activate_screen_buttons","load_common","FullView","props","children","Header","className","id","MorePanel","Footer","config","conf","renderToDom","renderToHtml","favicon","tab_app_logo","scroll_el","hide_scroll_state","is_on_hide_scroll_element","enable_scroll_auto_hide","scrollbar_width_computed","onStateChange","hide_scroll","classList","initialized","s1","querySelectorAll","s2","s3","usage","scroll_bar_width","hide_scroll_element","el","outer","createElement","style","position","visibility","zIndex","overflow","container","body","appendChild","inner","scrollbarWidth","offsetWidth","removeChild","get_scroll_bar_width","setProperty","scroll_pos","hide_scroll_element_pos","get_element_scroll_pos","isAutoScrolling","scrollListeners","scrollListener","add_global_scroll_listener","getScroll","already_listening","addEventListener","forEach","passive","scrollTop","setScroll","newTop","smooth","jumpTo","slideTo","top","smoothStep","promise","Promise","resolve","resolvePromise","currentTop","distance","timer","setInterval","clearInterval","selector_or_element","constructor","String","getBoundingClientRect","scrollToHideScrollElement","text","backgroundColor","duration","Toastify","showToast","ret","browserConfig","require","initFunctions","pageConfig","Element","this","getStyle","styleProp","defaultView","getComputedStyle","getPropertyValue","getPosition","curleft","curtop","e","offsetLeft","offsetTop","offsetParent","x","y","setTextSize","width","height","noDOMChanges","possibleChars","warning","tagName","dummy","fontSize","DUMMY_SIZE","display","whiteSpace","fontFamily","letterSpacing","worstCaseText","innerHTML","widestChar","Array","widestSize","char_","charWidth","parseInt","width_dummy","height_dummy","ratio","Math","min","floor","max","UseCases","Center","Title","Item","textAlign","padding","textDecoration","paddingLeft","marginTop","init_msg_tab","block_start","maximize","innerWidth","innerHeight","paddingTop","onblur","do_focus","onload","do_top_scroll","scroll_to_top","onfocus","EMPTY_SPACE","fromCharCode","isEmptySpace","str","charCode","charCodeAt","includes","previousText","focus","set_carret_position","pos","sel","getSelection","range","createRange","setStart","setEnd","removeAllRanges","addRange","oninput","currentText","currentText__mod","is_pristine_state","getElementById","opacity","title","scroll_and_block","onresize","is_blocking","milliseconds_elapsed_since_block_start","get_epoch","getTime","Date","sleep","milliseconds","route","view","spellCheck","seconds","root","factory","global","options","lib","init","containsClass","elem","yourClass","trim","split","indexOf","toastify","toastElement","selector","callback","destination","newWindow","close","gravity","positionLeft","avatar","stopOnFocus","undefined","onClick","buildToast","divElement","console","warn","background","avatarElement","src","insertAdjacentElement","closeElement","event","stopPropagation","removeElement","timeOutValue","screen","self","open","location","rootElement","insertBefore","firstChild","reposition","hideToast","replace","parentNode","classUsed","topLeftOffsetSize","bottom","topRightOffsetSize","offsetSize","allToasts","getElementsByClassName","offsetHeight","substr"],"mappings":"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","file":"views/MsgTabPage/msg-tab.hash_99d70d47f7eb77aa3c4d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t22: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([478,1,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import assert from \"@brillout/assert\";\nimport pretty_scroll_area, {\n  scrollToElement,\n  addScrollListener,\n} from \"../../pretty_scroll_area\";\nimport load_common from \"../common/load_common\";\nimport { show_toast } from \"../common/show_toast\";\n\nexport default on_page_load;\n\nfunction on_page_load(onPageLoad, goldpage_args) {\n  onPageLoad(() => {\n    load_full_view();\n    load_common();\n  }, goldpage_args);\n}\n\nfunction load_full_view() {\n  pretty_scroll_area();\n\n  activate_screen_buttons();\n}\n\nfunction activate_screen_buttons() {\n  const manual_scroll = document.querySelector(\"#manual-scroll\");\n  const manual_fullscreen = document.querySelector(\"#manual-fullscreen\");\n  const full_view = document.querySelector(\n    \".pretty_scroll_area__hide_scroll_element\"\n  );\n\n  manual_scroll.onclick = do_scroll;\n  manual_fullscreen.onclick = do_fullscreen;\n\n  const stop_auto_scroll = activate_auto_scroll({ do_scroll });\n\n  return;\n\n  async function do_scroll() {\n    stop_auto_scroll();\n    await scrollToElement(full_view);\n  }\n  async function do_fullscreen() {\n    try {\n      document.documentElement.requestFullscreen();\n    } catch (err) {\n      show_toast(\"Your browser doesn't support fullscreen.\", {\n        is_error: true,\n        short_duration: true,\n      });\n      return;\n    }\n    // When tab goes to fullscreen, scroll is changed; ensure with `requestAnimationFrame` that\n    // scrolling happens *after* the tab goes fullscreen.\n    requestAnimationFrame(async () => {\n      await do_scroll();\n    });\n  }\n}\n\nfunction activate_auto_scroll({ do_scroll }) {\n  /*/\n  const AUTO_DURATION = 6;\n  /*/\n  const AUTO_DURATION = 9;\n  //*/\n\n  const auto_scroll = document.querySelector(\"#auto-scroll\");\n  const disable_prop = \"data-disable-auto-scroll\";\n\n  addScrollListener(scrollListener, {\n    onlyUserScroll: true,\n    fireInitialScroll: false,\n  });\n  start_auto_scroll();\n\n  return stop_auto_scroll;\n\n  var counter;\n  var repeater;\n  function start_auto_scroll() {\n    show();\n    if (repeater) return;\n    counter = AUTO_DURATION;\n    inOneSec();\n    assert.internal(repeater);\n  }\n  function stop_auto_scroll() {\n    hide();\n    if (repeater) {\n      window.clearTimeout(repeater);\n      repeater = null;\n    }\n  }\n\n  function show() {\n    auto_scroll.removeAttribute(disable_prop);\n  }\n  function hide() {\n    auto_scroll.setAttribute(disable_prop, \"true\");\n  }\n\n  function inOneSec() {\n    assert.internal(0 < counter && counter <= AUTO_DURATION);\n    --counter;\n    updateDom();\n    if (counter === 0) {\n      do_scroll();\n      stop_auto_scroll();\n      assert.internal(repeater === null);\n    } else {\n      repeater = window.setTimeout(inOneSec, 1000);\n    }\n  }\n\n  function updateDom() {\n    if (!counter) {\n      hide();\n    } else {\n      show();\n    }\n    auto_scroll.textContent = \"Auto-center \" + counter + \"s\";\n  }\n\n  function scrollListener(scrollPos) {\n    if (document.fullscreenElement) {\n      document.exitFullscreen();\n    }\n\n    if (scrollPos === 0) {\n      start_auto_scroll();\n    } else {\n      stop_auto_scroll();\n    }\n  }\n}\n","import React from \"react\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport \"./full-view.css\";\nimport on_page_load from \"./on_page_load\";\nimport { tab_app_logo } from \"../../../tab_app_info\";\n\nexport { FullView, MorePanel, config };\n\nfunction FullView(props) {\n  const { children } = props;\n  return (\n    <>\n      <Header />\n\n      <div\n        className=\"pretty_scroll_area__hide_scroll_element load-area\"\n        {...props}\n      >\n        {children}\n        <div id=\"screen-buttons-wrapper\">\n          <div\n            className=\"screen-button glass-background\"\n            id=\"manual-fullscreen\"\n          >\n            Fullscreen\n          </div>\n          <div className=\"screen-button glass-background\" id=\"manual-scroll\">\n            Center\n          </div>\n          <div className=\"screen-button glass-background\" id=\"auto-scroll\">\n            &nbsp;\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction MorePanel(props) {\n  const { children } = props;\n  return (\n    <div id=\"more_panel\">\n      <div id=\"more_panel_background\" className=\"glass-background\"></div>\n      {children}\n      <Footer />\n    </div>\n  );\n}\n\nfunction config({ onPageLoad, ...conf }) {\n  return {\n    renderToDom: true,\n    renderToHtml: true,\n    favicon: tab_app_logo,\n    ...conf,\n    on_page_load: (goldpage_args) => on_page_load(onPageLoad, goldpage_args),\n  };\n}\n","import \"./private/pretty_scroll_area.css\";\nimport assert from \"@brillout/assert\";\n\nexport default pretty_scroll_area;\n\nexport {\n  getScroll,\n  setScroll,\n  scrollToElement,\n  scrollToHideScrollElement,\n  /*\n  isScrolledToHideScrollElement,\n  */\n\n  addScrollListener,\n  removeScrollListener,\n};\n\n/*\nconst DISABLE = true;\n/*/\nconst DISABLE = false;\n//*/\n\nlet scroll_el;\n\nconst hide_scroll_state = {\n  is_on_hide_scroll_element: null,\n  enable_scroll_auto_hide: null,\n  scrollbar_width_computed: null,\n};\nfunction onStateChange() {\n  const hide_scroll =\n    hide_scroll_state.is_on_hide_scroll_element &&\n    hide_scroll_state.enable_scroll_auto_hide &&\n    hide_scroll_state.scrollbar_width_computed;\n  if (DISABLE) {\n    return;\n  }\n  scroll_el.classList[hide_scroll ? \"add\" : \"remove\"](\"hide_scroll\");\n}\n\nlet initialized = false;\nfunction pretty_scroll_area() {\n  if (initialized) return;\n  initialized = true;\n\n  const s1 = document.querySelectorAll(\".pretty_scroll_area\");\n  const s2 = document.querySelectorAll(\".pretty_scroll_area__parent\");\n  const s3 = document.querySelectorAll(\n    \".pretty_scroll_area__hide_scroll_element\"\n  );\n  assert.usage(s1.length === 1 && s2.length === 1 && s3.length === 1);\n  scroll_el = s1[0];\n  const hide_scroll_element = s3[0];\n\n  compute_scrollbar_width();\n  hide_scroll_state.scrollbar_width_computed = true;\n  onStateChange();\n\n  addScrollListener(\n    (scroll_pos) => {\n      const hide_scroll_element_pos = get_element_scroll_pos(\n        hide_scroll_element\n      );\n      // assert.log({hide_scroll_element_pos, scroll_pos});\n      hide_scroll_state.is_on_hide_scroll_element =\n        scroll_pos === hide_scroll_element_pos;\n      onStateChange();\n    },\n    { fireInitialScroll: true }\n  );\n\n  setTimeout(() => {\n    hide_scroll_state.enable_scroll_auto_hide = true;\n    onStateChange();\n  }, 2000);\n}\n\nconst scrollListeners = [];\nvar isAutoScrolling;\nfunction addScrollListener(\n  scrollListener,\n  { onlyUserScroll = false, fireInitialScroll = false } = {}\n) {\n  scrollListener.onlyUserScroll = onlyUserScroll;\n  scrollListeners.push(scrollListener);\n  add_global_scroll_listener();\n  if (fireInitialScroll) {\n    const scroll_pos = getScroll();\n    scrollListener(scroll_pos);\n  }\n}\nfunction removeScrollListener(scrollListener) {\n  const idx = scrollListeners.indexOf(scrollListener);\n  if (idx !== -1) {\n    scrollListeners.splice(idx, 1);\n  }\n}\nlet already_listening = false;\nfunction add_global_scroll_listener() {\n  if (already_listening) return;\n  pretty_scroll_area();\n  already_listening = true;\n  const scroll_event_el =\n    scroll_el === document.documentElement ? window : scroll_el;\n  scroll_event_el.addEventListener(\n    \"scroll\",\n    () => {\n      const scroll_pos = getScroll();\n      scrollListeners.forEach((scrollListener) => {\n        if (scrollListener.onlyUserScroll && isAutoScrolling) {\n          return;\n        }\n        scrollListener(scroll_pos);\n      });\n    },\n    { passive: true }\n  );\n}\n\nfunction getScroll() {\n  return scroll_el.scrollTop;\n}\nasync function setScroll(newTop, { smooth = false } = {}) {\n  if (!smooth) {\n    return jumpTo(newTop);\n  } else {\n    return slideTo(newTop);\n  }\n}\n\nfunction jumpTo(newTop) {\n  scroll_el.scrollTop = newTop;\n}\n\nasync function slideTo(top) {\n  /*\n  const STEPS = 30;\n  const INTERVAL = 10;\n  /*/\n  const STEPS = 30;\n  const INTERVAL = 20;\n  //*/\n\n  let resolvePromise;\n  const promise = new Promise((resolve) => (resolvePromise = resolve));\n\n  const currentTop = getScroll();\n  const distance = top - currentTop;\n\n  isAutoScrolling = true;\n  let counter = 0;\n  var timer = setInterval(function () {\n    jumpTo(currentTop + distance * smoothStep(counter++ / STEPS));\n    if (counter > STEPS) {\n      clearInterval(timer);\n      window.requestAnimationFrame(() => {\n        isAutoScrolling = false;\n      });\n      resolvePromise();\n    }\n  }, INTERVAL);\n\n  return promise;\n\n  function smoothStep(n) {\n    return n * n * (3 - 2 * n);\n  }\n}\n\nfunction scrollToElement(selector_or_element, { smooth = true } = {}) {\n  const top = get_element_scroll_pos(selector_or_element);\n  return setScroll(top, { smooth });\n}\n\nfunction get_element_scroll_pos(selector_or_element) {\n  const element =\n    selector_or_element.constructor === String\n      ? document.querySelector(selector_or_element)\n      : selector_or_element;\n  const top = element.getBoundingClientRect().top + getScroll();\n  return top;\n}\n\nfunction scrollToHideScrollElement({ smooth = true } = {}) {\n  const s3 = document.querySelectorAll(\n    \".pretty_scroll_area__hide_scroll_element\"\n  );\n  assert.usage(s3.length === 1);\n\n  const hide_scroll_element = s3[0];\n\n  scrollToElement(hide_scroll_element, { smooth });\n}\n/*\nfunction isScrolledToHideScrollElement() {\n  return !!hide_scroll_state.is_on_hide_scroll_element;\n}\n*/\n\nfunction compute_scrollbar_width() {\n  const scroll_bar_width = get_scroll_bar_width();\n  document.documentElement.style.setProperty(\n    \"--scroll-bar-width\",\n    scroll_bar_width + \"px\"\n  );\n}\nfunction get_scroll_bar_width() {\n  // Creating invisible container\n  const outer = document.createElement(\"div\");\n  hide_el(outer);\n  outer.style.overflow = \"scroll\"; // forcing scrollbar to appear\n  const container = document.body;\n\n  container.appendChild(outer);\n\n  const inner = document.createElement(\"div\");\n  outer.appendChild(inner);\n  const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n\n  container.removeChild(outer);\n\n  return scrollbarWidth;\n\n  function hide_el(el) {\n    el.style.position = \"absolute\";\n    el.style.visibility = \"hidden\";\n    el.style.zIndex = \"-9999\";\n  }\n}\n","import assert from \"@brillout/assert\";\nimport Toastify from \"toastify-js\";\nimport \"toastify-js/src/toastify.css\";\nimport \"./toast.css\";\n\nexport { show_toast };\n\nfunction show_toast(text, { is_error = false, short_duration = false } = {}) {\n  assert(text);\n\n  const backgroundColor = is_error\n    ? \"linear-gradient(to right, #e83131, #dd4c4c)\"\n    : \"linear-gradient(to right, rgb(0, 176, 84), rgb(61, 201, 64))\";\n\n  const duration = short_duration ? 4 : 8;\n\n  Toastify({\n    duration: duration * 1000,\n    text,\n    position: \"left\",\n    backgroundColor,\n    // className: \"info\",\n  }).showToast();\n}\n","const browserConfig = require('/home/romu/code/clocktab/node_modules/@brillout/browser-config/index.js');\n\nbrowserConfig.initFunctions = {};\n\nbrowserConfig.initFunctions = browserConfig.initFunctions || {};\nbrowserConfig.initFunctions['hydratePage'] = (() => {const ret = require('/home/romu/code/clocktab/node_modules/@goldpage/browser/hydratePage.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\nbrowserConfig.pageConfig = (() => {const ret = require('/home/romu/code/clocktab/views/MsgTabPage/msg-tab.page.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\nbrowserConfig['router'] = (() => {const ret = require('/home/romu/code/clocktab/node_modules/@goldpage/path-to-regexp/router.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\nbrowserConfig['renderPageToDom'] = (() => {const ret = require('/home/romu/code/clocktab/node_modules/@goldpage/html/renderPageToDom.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\nbrowserConfig['domRender'] = (() => {const ret = require('/home/romu/code/clocktab/tab-utils/_render/browser/domRender.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n\n(() => {const ret = require('/home/romu/code/clocktab/node_modules/@goldpage/browser/browserInit.js'); return (ret||{}).__esModule===true ? ret.default : ret;})();;\n","import assert from \"@brillout/assert\";\n\n(function () {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n\n  Element.prototype.hide = function () //{{{\n  {\n    this.style.visibility = \"hidden\";\n  };\n  //}}}\n  Element.prototype.show = function () //{{{\n  {\n    this.style.visibility = \"inherit\";\n  };\n  //}}}\n\n  Element.prototype.getStyle = function (\n    styleProp //{{{\n  ) {\n    return document.defaultView\n      .getComputedStyle(this, null)\n      .getPropertyValue(styleProp);\n  };\n  //}}}\n\n  Element.prototype.getPosition = function () //{{{\n  {\n    var curleft = 0;\n    var curtop = 0;\n    var e = this;\n    do {\n      curleft += e.offsetLeft;\n      curtop += e.offsetTop;\n    } while ((e = e.offsetParent));\n    return { x: curleft, y: curtop };\n  };\n  //}}}\n\n  Element.prototype.setTextSize = function (\n    width,\n    height,\n    noDOMChanges,\n    possibleChars\n  ) {\n    //assert width & height in px\n    //assert this.style.display=='inline-block'\n\n    //absolute font-size is equally precise as percentage font-size\n    //chars can have different widths\n    //assumption that width of a text is proportional to its fontSize is wrong but good approx\n    assert.warning(this.tagName !== \"TEXTAREA\");\n    /*\n  if(width===0||height===0)\n  {\n    if(noDOMChanges) return {width:0,height:0};\n    this.style.fontSize = \"0px\";\n    return;\n  }\n  */\n    assert.warning(width && height);\n    var DUMMY_SIZE = 100; //intuitively: the bigger the font-size the more precise the approximation\n\n    var dummy = document.createElement(this.tagName);\n    dummy.style.fontSize = DUMMY_SIZE + \"px\"; //is better approx than percentage since same preciseness\n    dummy.style.display = \"inline-block\";\n    dummy.style.whiteSpace = \"nowrap\"; //should this be equal to this.getStyle('white-space')?\n    dummy.style.position = \"absolute\";\n    dummy.style.fontFamily = this.getStyle(\"font-family\");\n    dummy.style.letterSpacing = this.getStyle(\"letter-spacing\");\n    //hide this shit\n    dummy.style.top = \"-9999px\";\n    dummy.style.zIndex = \"-1\";\n    dummy.style.visibility = \"hidden\";\n\n    var worstCaseText = this.innerHTML;\n    if (worstCaseText === \"\") worstCaseText = \"y\";\n    else if (possibleChars) {\n      //if possibleChars not given we then assume that all char have same width\n      assert.warning(this.innerHTML === this.textContent);\n      assert.warning(\n        possibleChars.constructor === Array && possibleChars.length > 0\n      );\n      //determining worst case char\n      var widestChar;\n      var widestSize = -1;\n      document.documentElement.appendChild(dummy);\n      for (var i = 0; i < possibleChars.length; i++) {\n        var char_ = possibleChars[i];\n        dummy.innerHTML = char_;\n        var charWidth = parseInt(dummy.getStyle(\"width\"), 10);\n        if (charWidth > widestSize) {\n          widestSize = charWidth;\n          widestChar = char_;\n        }\n      }\n      assert.warning(widestChar);\n      worstCaseText = \"\";\n      for (var i = 0; i < this.textContent.length; i++)\n        worstCaseText += widestChar;\n    }\n\n    dummy.innerHTML = worstCaseText;\n    document.documentElement.appendChild(dummy);\n    var width_dummy = parseInt(dummy.getStyle(\"width\"), 10);\n    var height_dummy = parseInt(dummy.getStyle(\"height\"), 10);\n    var ratio = Math.min(height / height_dummy, width / width_dummy);\n    document.documentElement.removeChild(dummy);\n\n    if (noDOMChanges)\n      return {\n        width: ratio * width_dummy,\n        height: ratio * height_dummy,\n        fontSize: ratio * DUMMY_SIZE,\n      };\n    this.style.fontSize = Math.floor(ratio * DUMMY_SIZE) + \"px\";\n\n    //******** Refinment ********\n    assert.warning(\n      this.getStyle(\"display\") === \"block\" ||\n        this.getStyle(\"display\") === \"inline-block\" ||\n        this.getStyle(\"display\") === \"table-cell\",\n      \"this.getStyle('display')==\" + this.getStyle(\"display\"),\n      1\n    );\n    this.hide();\n    //==old approx\n    //x-height ~=/2 font-size in px ~= height of text -> x-width ~=/2 font-size in px\n    //this.style.fontSize=1.3*( Math.min(parseInt(height,10),parseInt(width,10)/countCharacters(this)) )+'px';\n    //var max=1000;\n    assert.warning(this.getStyle(\"font-size\") === this.style.fontSize);\n\n    //assert.warning(parseInt(this.getStyle('width' ),10)===this.clientWidth);\n    //assert.warning(parseInt(this.getStyle('height'),10)===this.clientHeight,\"this.getStyle('height')===\"+this.getStyle('height')+\" && this.clientHeight===\"+this.clientHeight+\" && this.scrollHeight===\"+this.scrollHeight);\n\n    var max = 100;\n\n    while (\n      this.getStyle(\"width\") < width &&\n      this.getStyle(\"height\") < height &&\n      --max\n    )\n      this.style.fontSize = parseInt(this.style.fontSize, 10) + 2 + \"px\";\n    while (\n      (this.getStyle(\"width\") > width || this.getStyle(\"height\") > height) &&\n      --max\n    )\n      this.style.fontSize = parseInt(this.style.fontSize, 10) - 1 + \"px\";\n    assert.warning(max > 0, \"max===0\");\n    this.show();\n  };\n})();\n","import React from \"react\";\n\nexport default UseCases;\n\nfunction UseCases() {\n  return (\n    <Center>\n      <Title>Use Cases</Title>\n      <Item>\n        School & Universities - Communicate to students without speaking, e.g.\n        during examination.\n      </Item>\n      <Item>At the library - You are forbidden to talk.</Item>\n      <Item>\n        Audio not working - Video call, or presentation with large audience.\n      </Item>\n      <Item>For Fun.</Item>\n    </Center>\n  );\n}\nfunction Center({ children }) {\n  return (\n    <div style={{ textAlign: \"center\", padding: \"30px 0\" }}>\n      <div style={{ textAlign: \"left\", display: \"inline-block\" }}>\n        {children}\n      </div>\n    </div>\n  );\n}\nfunction Title({ children }) {\n  return (\n    <span\n      style={{\n        textDecoration: \"underline\",\n        fontSize: \"1.2em\",\n        /*\n      display: 'block',\n      textAlign: 'center',\n      */\n      }}\n    >\n      {children}\n    </span>\n  );\n}\nfunction Item({ children }) {\n  return <div style={{ paddingLeft: 7, marginTop: 5 }}>• {children}</div>;\n}\n","import {\n  setScroll,\n  scrollToHideScrollElement,\n} from \"../../tab-utils/pretty_scroll_area\";\nimport { sleep } from \"../../tab-utils/sleep\";\nimport assert from \"@brillout/assert\";\n\nexport default init_msg_tab;\n\nfunction init_msg_tab({ text }) {\n  text.onblur = function () {\n    do_focus();\n  };\n  document.body.onload = function () {\n    maximize();\n    do_focus(); // autofocus doesn't seem to work\n    scroll_to_top();\n  };\n\n  window.onfocus = function () {\n    do_focus();\n  };\n\n  function maximize() {\n    text.setTextSize(window.innerWidth, window.innerHeight);\n    text.style.paddingTop = \"0px\";\n    const paddingTop =\n      window.innerHeight / 2 - parseInt(text.getStyle(\"height\")) / 2;\n    text.style.paddingTop = paddingTop + \"px\";\n  }\n\n  const EMPTY_SPACE = String.fromCharCode(160);\n  function isEmptySpace(str) {\n    const charCode = str.charCodeAt(0);\n    return (\n      str &&\n      [\n        160, // non-breaking space\n        32, // normal space\n      ].includes(charCode)\n    );\n  }\n  let previousText = text.textContent;\n  text.oninput = function () {\n    let currentText = text.textContent;\n\n    // Carret is hidden when no text\n    if (currentText === \"\") {\n      currentText = text.textContent = EMPTY_SPACE;\n      set_carret_position(0);\n    }\n\n    // Remove trailing EMPTY_SPACE\n    {\n      const currentText__mod = currentText.slice(\n        0,\n        currentText.length - EMPTY_SPACE.length\n      );\n      const empty_filler_should_be_removed =\n        isEmptySpace(previousText) &&\n        isEmptySpace(currentText.slice(-1)) &&\n        currentText.length === 1 + EMPTY_SPACE.length;\n      if (empty_filler_should_be_removed) {\n        assert.warning(currentText__mod.length === 1);\n        currentText = text.textContent = currentText__mod;\n        set_carret_position(1);\n      }\n    }\n\n    assert.warning(currentText.length > 0);\n    const is_pristine_state = isEmptySpace(currentText);\n\n    document.getElementById(\"hint\").style.opacity = is_pristine_state\n      ? \"1\"\n      : \"0\";\n    document.title = is_pristine_state ? \"Msg Tab\" : currentText + \" - Msg Tab\";\n\n    scroll_and_block();\n    maximize();\n    scroll_and_block();\n\n    previousText = currentText;\n  };\n  window.onresize = maximize;\n\n  function do_focus() {\n    text.focus();\n    requestAnimationFrame(() => {\n      text.focus();\n      /*\n      var l = text.value.length;\n      text.selectionStart=l;\n      text.selectionStart=l;\n      */\n    });\n  }\n\n  function set_carret_position(pos) {\n    const sel = window.getSelection();\n    var range = document.createRange();\n    range.setStart(text, pos);\n    range.setEnd(text, pos);\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n}\n\nlet block_start;\nlet is_blocking = false;\nasync function scroll_and_block() {\n  do_scroll();\n  requestAnimationFrame(do_scroll);\n\n  block_start = new Date();\n\n  if (is_blocking) return;\n\n  is_blocking = true;\n  while (milliseconds_elapsed_since_block_start() < 100) {\n    await sleep({ milliseconds: 10 });\n    do_scroll();\n  }\n  is_blocking = false;\n\n  return;\n\n  function milliseconds_elapsed_since_block_start() {\n    return get_epoch(new Date()) - get_epoch(block_start);\n  }\n  function get_epoch(d) {\n    return d.getTime();\n  }\n\n  function do_scroll() {\n    scrollToHideScrollElement({ smooth: false });\n  }\n}\n\nfunction scroll_to_top() {\n  do_top_scroll();\n  setTimeout(do_top_scroll, 10);\n\n  function do_top_scroll() {\n    setScroll(0);\n    requestAnimationFrame(() => setScroll(0));\n  }\n}\n","import React from \"react\";\nimport {\n  FullView,\n  MorePanel,\n  config,\n} from \"../../tab-utils/views/FullViewWrapper\";\nimport \"./lib.js\";\nimport \"./msg-tab.css\";\nimport UseCases from \"./UseCases\";\nimport init_msg_tab from \"./init_msg_tab\";\n\nexport default config({\n  route: \"/msg-tab\",\n  title: \"Msg Tab\",\n  view: () => (\n    <>\n      <FullView id=\"msg-container\">\n        <div id=\"hint\">Type something...</div>\n        <div id=\"text-container\">\n          <div id=\"text\" spellCheck=\"false\">\n            &nbsp;\n          </div>\n        </div>\n      </FullView>\n      <MorePanel>\n        <UseCases />\n      </MorePanel>\n    </>\n  ),\n  onPageLoad: (load_common) => {\n    load_common();\n    const text = window.document.getElementById(\"text\");\n    text.setAttribute(\"contentEditable\", \"true\");\n    init_msg_tab({ text });\n  },\n});\n","export { sleep };\n\nfunction sleep({ seconds, milliseconds }) {\n  milliseconds = milliseconds || seconds * 1000;\n  return new Promise((resolve) => window.setTimeout(resolve, milliseconds));\n}\n","/*!\n * Toastify js 1.7.0\n * https://github.com/apvarun/toastify-js\n * @license MIT licensed\n *\n * Copyright (C) 2018 Varun A P\n */\n(function(root, factory) {\n  if (typeof module === \"object\" && module.exports) {\n    module.exports = factory();\n  } else {\n    root.Toastify = factory();\n  }\n})(this, function(global) {\n  // Object initialization\n  var Toastify = function(options) {\n      // Returning a new init object\n      return new Toastify.lib.init(options);\n    },\n    // Library version\n    version = \"1.7.0\";\n\n  // Defining the prototype of the object\n  Toastify.lib = Toastify.prototype = {\n    toastify: version,\n\n    constructor: Toastify,\n\n    // Initializing the object with required parameters\n    init: function(options) {\n      // Verifying and validating the input object\n      if (!options) {\n        options = {};\n      }\n\n      // Creating the options object\n      this.options = {};\n\n      this.toastElement = null;\n\n      // Validating the options\n      this.options.text = options.text || \"Hi there!\"; // Display message\n      this.options.duration = options.duration === 0 ? 0 : options.duration || 3000; // Display duration\n      this.options.selector = options.selector; // Parent selector\n      this.options.callback = options.callback || function() {}; // Callback after display\n      this.options.destination = options.destination; // On-click destination\n      this.options.newWindow = options.newWindow || false; // Open destination in new window\n      this.options.close = options.close || false; // Show toast close icon\n      this.options.gravity = options.gravity === \"bottom\" ? \"toastify-bottom\" : \"toastify-top\"; // toast position - top or bottom\n      this.options.positionLeft = options.positionLeft || false; // toast position - left or right\n      this.options.position = options.position || ''; // toast position - left or right\n      this.options.backgroundColor = options.backgroundColor; // toast background color\n      this.options.avatar = options.avatar || \"\"; // img element src - url or a path\n      this.options.className = options.className || \"\"; // additional class names for the toast\n      this.options.stopOnFocus = options.stopOnFocus === undefined? true: options.stopOnFocus; // stop timeout on focus\n      this.options.onClick = options.onClick; // Callback after click\n\n      // Returning the current object for chaining functions\n      return this;\n    },\n\n    // Building the DOM element\n    buildToast: function() {\n      // Validating if the options are defined\n      if (!this.options) {\n        throw \"Toastify is not initialized\";\n      }\n\n      // Creating the DOM object\n      var divElement = document.createElement(\"div\");\n      divElement.className = \"toastify on \" + this.options.className;\n\n      // Positioning toast to left or right or center\n      if (!!this.options.position) {\n        divElement.className += \" toastify-\" + this.options.position;\n      } else {\n        // To be depreciated in further versions\n        if (this.options.positionLeft === true) {\n          divElement.className += \" toastify-left\";\n          console.warn('Property `positionLeft` will be depreciated in further versions. Please use `position` instead.')\n        } else {\n          // Default position\n          divElement.className += \" toastify-right\";\n        }\n      }\n\n      // Assigning gravity of element\n      divElement.className += \" \" + this.options.gravity;\n\n      if (this.options.backgroundColor) {\n        divElement.style.background = this.options.backgroundColor;\n      }\n\n      // Adding the toast message\n      divElement.innerHTML = this.options.text;\n\n      if (this.options.avatar !== \"\") {\n        var avatarElement = document.createElement(\"img\");\n        avatarElement.src = this.options.avatar;\n\n        avatarElement.className = \"toastify-avatar\";\n\n        if (this.options.position == \"left\" || this.options.positionLeft === true) {\n          // Adding close icon on the left of content\n          divElement.appendChild(avatarElement);\n        } else {\n          // Adding close icon on the right of content\n          divElement.insertAdjacentElement(\"beforeend\", avatarElement);\n        }\n      }\n\n      // Adding a close icon to the toast\n      if (this.options.close === true) {\n        // Create a span for close element\n        var closeElement = document.createElement(\"span\");\n        closeElement.innerHTML = \"&#10006;\";\n\n        closeElement.className = \"toast-close\";\n\n        // Triggering the removal of toast from DOM on close click\n        closeElement.addEventListener(\n          \"click\",\n          function(event) {\n            event.stopPropagation();\n            this.removeElement(this.toastElement);\n            window.clearTimeout(this.toastElement.timeOutValue);\n          }.bind(this)\n        );\n\n        //Calculating screen width\n        var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n\n        // Adding the close icon to the toast element\n        // Display on the right if screen width is less than or equal to 360px\n        if ((this.options.position == \"left\" || this.options.positionLeft === true) && width > 360) {\n          // Adding close icon on the left of content\n          divElement.insertAdjacentElement(\"afterbegin\", closeElement);\n        } else {\n          // Adding close icon on the right of content\n          divElement.appendChild(closeElement);\n        }\n      }\n\n      // Clear timeout while toast is focused\n      if (this.options.stopOnFocus && this.options.duration > 0) {\n        const self = this;\n        // stop countdown\n        divElement.addEventListener(\n          \"mouseover\",\n          function(event) {\n            window.clearTimeout(divElement.timeOutValue);\n          }\n        )\n        // add back the timeout\n        divElement.addEventListener(\n          \"mouseleave\",\n          function() {\n            divElement.timeOutValue = window.setTimeout(\n              function() {\n                // Remove the toast from DOM\n                self.removeElement(divElement);\n              },\n              self.options.duration\n            )\n          }\n        )\n      }\n      \n      // Adding an on-click destination path\n      if (typeof this.options.destination !== \"undefined\") {\n        divElement.addEventListener(\n          \"click\",\n          function(event) {\n            event.stopPropagation();\n            if (this.options.newWindow === true) {\n              window.open(this.options.destination, \"_blank\");\n            } else {\n              window.location = this.options.destination;\n            }\n          }.bind(this)\n        );\n      }\n\n      if (typeof this.options.onClick === \"function\" && typeof this.options.destination === \"undefined\") {\n        divElement.addEventListener(\n          \"click\",\n          function(event) {\n            event.stopPropagation();\n            this.options.onClick();            \n          }.bind(this)\n        );\n      }\n\n      // Returning the generated element\n      return divElement;\n    },\n\n    // Displaying the toast\n    showToast: function() {\n      // Creating the DOM object for the toast\n      this.toastElement = this.buildToast();\n\n      // Getting the root element to with the toast needs to be added\n      var rootElement;\n      if (typeof this.options.selector === \"undefined\") {\n        rootElement = document.body;\n      } else {\n        rootElement = document.getElementById(this.options.selector);\n      }\n\n      // Validating if root element is present in DOM\n      if (!rootElement) {\n        throw \"Root element is not defined\";\n      }\n\n      // Adding the DOM element\n      rootElement.insertBefore(this.toastElement, rootElement.firstChild);\n\n      // Repositioning the toasts in case multiple toasts are present\n      Toastify.reposition();\n\n      if (this.options.duration > 0) {\n        this.toastElement.timeOutValue = window.setTimeout(\n          function() {\n            // Remove the toast from DOM\n            this.removeElement(this.toastElement);\n          }.bind(this),\n          this.options.duration\n        ); // Binding `this` for function invocation\n      }\n\n      // Supporting function chaining\n      return this;\n    },\n\n    hideToast: function() {\n      if (this.toastElement.timeOutValue) {\n        clearTimeout(this.toastElement.timeOutValue);\n      }\n      this.removeElement(this.toastElement);\n    },\n\n    // Removing the element from the DOM\n    removeElement: function(toastElement) {\n      // Hiding the element\n      // toastElement.classList.remove(\"on\");\n      toastElement.className = toastElement.className.replace(\" on\", \"\");\n\n      // Removing the element from DOM after transition end\n      window.setTimeout(\n        function() {\n          // Remove the elemenf from the DOM, only when the parent node was not removed before.\n          if (toastElement.parentNode) {\n            toastElement.parentNode.removeChild(toastElement);\n          }\n\n          // Calling the callback function\n          this.options.callback.call(toastElement);\n\n          // Repositioning the toasts again\n          Toastify.reposition();\n        }.bind(this),\n        400\n      ); // Binding `this` for function invocation\n    },\n  };\n\n  // Positioning the toasts on the DOM\n  Toastify.reposition = function() {\n    // Top margins with gravity\n    var topLeftOffsetSize = {\n      top: 15,\n      bottom: 15,\n    };\n    var topRightOffsetSize = {\n      top: 15,\n      bottom: 15,\n    };\n    var offsetSize = {\n      top: 15,\n      bottom: 15,\n    };\n\n    // Get all toast messages on the DOM\n    var allToasts = document.getElementsByClassName(\"toastify\");\n\n    var classUsed;\n\n    // Modifying the position of each toast element\n    for (var i = 0; i < allToasts.length; i++) {\n      // Getting the applied gravity\n      if (containsClass(allToasts[i], \"toastify-top\") === true) {\n        classUsed = \"toastify-top\";\n      } else {\n        classUsed = \"toastify-bottom\";\n      }\n\n      var height = allToasts[i].offsetHeight;\n      classUsed = classUsed.substr(9, classUsed.length-1)\n      // Spacing between toasts\n      var offset = 15;\n\n      var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n\n      // Show toast in center if screen with less than or qual to 360px\n      if (width <= 360) {\n        // Setting the position\n        allToasts[i].style[classUsed] = offsetSize[classUsed] + \"px\";\n\n        offsetSize[classUsed] += height + offset;\n      } else {\n        if (containsClass(allToasts[i], \"toastify-left\") === true) {\n          // Setting the position\n          allToasts[i].style[classUsed] = topLeftOffsetSize[classUsed] + \"px\";\n\n          topLeftOffsetSize[classUsed] += height + offset;\n        } else {\n          // Setting the position\n          allToasts[i].style[classUsed] = topRightOffsetSize[classUsed] + \"px\";\n\n          topRightOffsetSize[classUsed] += height + offset;\n        }\n      }\n    }\n\n    // Supporting function chaining\n    return this;\n  };\n\n  function containsClass(elem, yourClass) {\n    if (!elem || typeof yourClass !== \"string\") {\n      return false;\n    } else if (\n      elem.className &&\n      elem.className\n        .trim()\n        .split(/\\s+/gi)\n        .indexOf(yourClass) > -1\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // Setting up the prototype for the init object\n  Toastify.lib.init.prototype = Toastify.lib;\n\n  // Returning the Toastify function to be assigned to the window object/module\n  return Toastify;\n});\n"],"sourceRoot":""}